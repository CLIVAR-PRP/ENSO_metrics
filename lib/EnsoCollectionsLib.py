# -*- coding:UTF-8 -*-
#
# Define ENSO metrics collections as a function of science question/realm
#
# Draft version
#


# Define metrics collections
def defCollection(mc=True):
    # Name, list of metrics
    metrics_collection = {
        "ENSO_perf": {
            "long_name": "Metrics Collection for ENSO performance",
            "metrics_list": {
                "BiasPrLatRmse": {
                    "variables": ["pr"],
                    "regions": {"pr": "nino3_LatExt"},
                    "obs_name": {"pr": ["ERA-Interim", "GPCPv2.3"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "BiasPrLonRmse": {
                    "variables": ["pr"],
                    "regions": {"pr": "equatorial_pacific"},
                    "obs_name": {"pr": ["ERA-Interim", "GPCPv2.3"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                # "BiasSshLatRmse": {
                #     "variables": ["ssh"],
                #     "regions": {"ssh": "nino3_LatExt"},
                #     "obs_name": {"ssh": ["AVISO"]},
                #     "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                #                    "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                # },
                # "BiasSshLonRmse": {
                #     "variables": ["ssh"],
                #     "regions": {"ssh": "equatorial_pacific"},
                #     "obs_name": {"ssh": ["AVISO"]},
                #     "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                #                    "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                # },
                # "BiasSstLatRmse": {
                #     "variables": ["sst"],
                #     "regions": {"sst": "nino3_LatExt"},
                #     "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                #     "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                #                    "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                # },
                "BiasSstLonRmse": {
                    "variables": ["sst"],
                    "regions": {"sst": "equatorial_pacific"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                # "BiasTauxLatRmse": {
                #     "variables": ["taux"],
                #     "regions": {"taux": "equatorial_pacific_LatExt"},
                #     "obs_name": {"taux": ["ERA-Interim", "Tropflux"]},
                #     "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                #                    "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                # },
                "BiasTauxLonRmse": {
                    "variables": ["taux"],
                    "regions": {"taux": "equatorial_pacific"},
                    "obs_name": {"taux": ["ERA-Interim", "Tropflux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "SeasonalPrLatRmse": {
                    "variables": ["pr"],
                    "regions": {"pr": "nino3_LatExt"},
                    "obs_name": {"pr": ["ERA-Interim", "GPCPv2.3"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "SeasonalPrLonRmse": {
                    "variables": ["pr"],
                    "regions": {"pr": "equatorial_pacific"},
                    "obs_name": {"pr": ["ERA-Interim", "GPCPv2.3"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                # "SeasonalSshLatRmse": {
                #     "variables": ["ssh"],
                #     "regions": {"ssh": "nino3_LatExt"},
                #     "obs_name": {"ssh": ["AVISO"]},
                #     "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                #                    "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                # },
                # "SeasonalSshLonRmse": {
                #     "variables": ["ssh"],
                #     "regions": {"ssh": "equatorial_pacific"},
                #     "obs_name": {"ssh": ["AVISO"]},
                #     "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                #                    "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                # },
                # "SeasonalSstLatRmse": {
                #     "variables": ["sst"],
                #     "regions": {"sst": "nino3_LatExt"},
                #     "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                #     "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                #                    "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                # },
                "SeasonalSstLonRmse": {
                    "variables": ["sst"],
                    "regions": {"sst": "equatorial_pacific"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                # "SeasonalTauxLatRmse": {
                #     "variables": ["taux"],
                #     "regions": {"taux": "equatorial_pacific_LatExt"},
                #     "obs_name": {"taux": ["ERA-Interim", "Tropflux"]},
                #     "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                #                    "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                # },
                "SeasonalTauxLonRmse": {
                    "variables": ["taux"],
                    "regions": {"taux": "equatorial_pacific"},
                    "obs_name": {"sst": ["ERA-Interim", "Tropflux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "EnsoAmpl": {
                    "variables": ["sst"],
                    "regions": {"sst": "nino3.4"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "metric_computation": "abs_relative_difference",
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                },
                "EnsoDuration": {
                    "variables": ["sst"],
                    "regions": {"sst": "nino3.4"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "event_definition": {"region_ev": "nino3.4", "season_ev": "DEC", "threshold": 0.75,
                                         "normalization": True, "duration_min": 1},
                    "nbr_years_window": 6,
                    "smoothing": {"window": 5, "method": "triangle"},
                    "metric_computation": "abs_relative_difference",
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "EnsoSeasonality": {
                    "variables": ["sst"],
                    "regions": {"sst": "nino3.4"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "metric_computation": "abs_relative_difference",
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                },
                "EnsoSstLonRmse": {
                    "variables": ["sst"],
                    "regions": {"sst": "equatorial_pacific"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "event_definition": {"region_ev": "nino3.4", "season_ev": "DEC", "threshold": 0.75,
                                         "normalization": True, "duration_min": 1},
                    "smoothing": {"window": 5, "method": "triangle"},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                # "EnsoSstDiversity_1": {
                #     "variables": ["sst"],
                #     "regions": {"sst": "equatorial_pacific"},
                #     "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                #     "event_definition": {"region_ev": "nino3.4", "season_ev": "DEC", "threshold": 0.75,
                #                          "normalization": False, "duration_min": 1},
                #     "smoothing": {"window": 5, "method": "triangle"},
                #     "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                #                    "newgrid_name": "generic_1x1deg"},
                #     "metric_computation": "abs_relative_difference",
                # },
                "EnsoSstDiversity_2": {
                    "variables": ["sst"],
                    "regions": {"sst": "equatorial_pacific"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "event_definition": {"region_ev": "nino3.4", "season_ev": "DEC", "threshold": 0.75,
                                         "normalization": True, "duration_min": 1},
                    "smoothing": {"window": 5, "method": "triangle"},
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                    "metric_computation": "abs_relative_difference",
                },
                "EnsoSstSkew": {
                    "variables": ["sst"],
                    "regions": {"sst": "nino3.4"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "metric_computation": "abs_relative_difference",
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                },
                # "EnsoPrTsRmse": {
                #     "variables": ["sst", "pr"],
                #     "regions": {"sst": "nino3.4", "pr": "nino3"},
                #     "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "pr": ["ERA-Interim", "GPCPv2.3"]},
                #     "event_definition": {"region_ev": "nino3.4", "season_ev": "DEC", "threshold": 0.75,
                #                          "normalization": True, "duration_min": 1},
                #     "nbr_years_window": 6,
                #     "smoothing": {"window": 5, "method": "triangle"},
                #     "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                #                    "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                # },
                "EnsoSstTsRmse": {
                    "variables": ["sst"],
                    "regions": {"sst": "nino3.4"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "event_definition": {"region_ev": "nino3.4", "season_ev": "DEC", "threshold": 0.75,
                                         "normalization": True, "duration_min": 1},
                    "nbr_years_window": 6,
                    "smoothing": {"window": 5, "method": "triangle"},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                # "EnsoTauxTsRmse": {
                #     "variables": ["sst", "taux"],
                #     "regions": {"sst": "nino3.4", "taux": "nino4"},
                #     "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "taux": ["ERA-Interim", "Tropflux"]},
                #     "event_definition": {"region_ev": "nino3.4", "season_ev": "DEC", "threshold": 0.75,
                #                          "normalization": True, "duration_min": 1},
                #     "nbr_years_window": 6,
                #     "smoothing": {"window": 5, "method": "triangle"},
                #     "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                #                    "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                # },
                # "NinoSstDiversity_1": {
                #     "variables": ["sst"],
                #     "regions": {"sst": "equatorial_pacific"},
                #     "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                #     "event_definition": {"region_ev": "nino3.4", "season_ev": "DEC", "threshold": 0.75,
                #                          "normalization": False, "duration_min": 1},
                #     "smoothing": {"window": 5, "method": "triangle"},
                #     "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                #                    "newgrid_name": "generic_1x1deg"},
                #     "metric_computation": "abs_relative_difference",
                # },
                # "NinoSstDiversity_2": {
                #     "variables": ["sst"],
                #     "regions": {"sst": "equatorial_pacific"},
                #     "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                #     "event_definition": {"region_ev": "nino3.4", "season_ev": "DEC", "threshold": 0.75,
                #                          "normalization": True, "duration_min": 1},
                #     "smoothing": {"window": 5, "method": "triangle"},
                #     "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                #                    "newgrid_name": "generic_1x1deg"},
                #     "metric_computation": "abs_relative_difference",
                # },
            },
            "common_collection_parameters": {
                "detrending": {"method": "linear"},
                "frequency": "monthly",
                "min_time_steps": 12,
                "normalization": False,
                "project_interpreter": "CMIP",
                "observed_period": None,
                "modeled_period": None,
            },
            "plot_order": ["BiasPrLatRmse", "BiasPrLonRmse", "BiasSstLonRmse", "BiasTauxLonRmse",
                           "SeasonalPrLatRmse", "SeasonalPrLonRmse", "SeasonalSstLonRmse", "SeasonalTauxLonRmse",
                           "EnsoSstLonRmse", "EnsoSstTsRmse", "EnsoAmpl", "EnsoSeasonality", "EnsoSstSkew",
                           "EnsodDuration", "EnsoSstDiversity_2"],
            "description": "Describe which science question this collection is about",
        },
        "ENSO_tel": {
            "long_name": "Metrics Collection for ENSO teleconnections",
            "metrics_list": {
                "EnsoAmpl": {
                    "variables": ["sst"],
                    "regions": {"sst": "nino3.4"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "metric_computation": "abs_relative_difference",
                },
                "EnsoSeasonality": {
                    "variables": ["sst"],
                    "regions": {"sst": "nino3.4"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "metric_computation": "abs_relative_difference",
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                },
                "EnsoSstLonRmse": {
                    "variables": ["sst"],
                    "regions": {"sst": "equatorial_pacific"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "event_definition": {"region_ev": "nino3.4", "season_ev": "DEC", "threshold": 0.75,
                                         "normalization": True, "duration_min": 1},
                    "smoothing": {"window": 5, "method": "triangle"},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "EnsoPrMapDjf": {
                    "variables": ["sst", "pr"],
                    "regions": {"pr": "global", "sst": "nino3.4"},
                    "event_definition": {"region_ev": "nino3.4", "season_ev": "DEC", "threshold": 0.75,
                                         "normalization": False, "duration_min": 1},
                    "smoothing": {"window": 5, "method": "triangle"},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                    "obs_name": {"pr": ["ERA-Interim", "GPCPv2.3"], "sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                },
                "EnsoPrMapJja": {
                    "variables": ["sst", "pr"],
                    "regions": {"pr": "global", "sst": "nino3.4"},
                    "event_definition": {"region_ev": "nino3.4", "season_ev": "DEC", "threshold": 0.75,
                                         "normalization": False, "duration_min": 1},
                    "smoothing": {"window": 5, "method": "triangle"},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                    "obs_name": {"pr": ["ERA-Interim", "GPCPv2.3"], "sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                },
                # "EnsoSlpMapDjf": {
                #     "variables": ["sst", "slp"],
                #     "regions": {"slp": "global", "sst": "nino3.4"},
                #     "event_definition": {"region_ev": "nino3.4", "season_ev": "DEC", "threshold": 0.75,
                #                          "normalization": False, "duration_min": 1},
                #     "smoothing": {"window": 5, "method": "triangle"},
                #     "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                #                    "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                #     "obs_name": {"slp": ["AVISO"], "sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                # },
                # "EnsoSlpMapJja": {
                #     "variables": ["sst", "slp"],
                #     "regions": {"slp": "global", "sst": "nino3.4"},
                #     "event_definition": {"region_ev": "nino3.4", "season_ev": "DEC", "threshold": 0.75,
                #                          "normalization": False, "duration_min": 1},
                #     "smoothing": {"window": 5, "method": "triangle"},
                #     "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                #                    "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                #     "obs_name": {"slp": ["AVISO"], "sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                # },
                "EnsoSstMapDjf": {
                    "variables": ["sst"],
                    "regions": {"sst": "global"},
                    "event_definition": {"region_ev": "nino3.4", "season_ev": "DEC", "threshold": 0.75,
                                         "normalization": False, "duration_min": 1},
                    "smoothing": {"window": 5, "method": "triangle"},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                },
                "EnsoSstMapJja": {
                    "variables": ["sst"],
                    "regions": {"sst": "global"},
                    "event_definition": {"region_ev": "nino3.4", "season_ev": "DEC", "threshold": 0.75,
                                         "normalization": False, "duration_min": 1},
                    "smoothing": {"window": 5, "method": "triangle"},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                },
            },
            "common_collection_parameters": {
                "detrending": {"method": "linear"},
                "frequency": "monthly",
                "min_time_steps": 12,
                "normalization": False,
                "project_interpreter": "CMIP",
                "observed_period": None,
                "modeled_period": None,
            },
            "plot_order": ["EnsoSstLonRmse", "EnsoAmpl", "EnsoSeasonality", "EnsoPrMapDjfRmse", "EnsoPrMapJjaRmse",
                           "EnsoSstMapDjfRmse", "EnsoSstMapJjaRmse"],
            "description": "Describe which science question this collection is about",
        },
        "ENSO_proc": {
            "long_name": "Metrics Collection for ENSO processes",
            "metrics_list": {
                "BiasSstLonRmse": {
                    "variables": ["sst"],
                    "regions": {"sst": "equatorial_pacific"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "BiasTauxLonRmse": {
                    "variables": ["taux"],
                    "regions": {"taux": "equatorial_pacific"},
                    "obs_name": {"taux": ["ERA-Interim", "Tropflux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "EnsoAmpl": {
                    "variables": ["sst"],
                    "regions": {"sst": "nino3.4"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "metric_computation": "abs_relative_difference",
                },
                "EnsoSstLonRmse": {
                    "variables": ["sst"],
                    "regions": {"sst": "equatorial_pacific"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "event_definition": {"region_ev": "nino3.4", "season_ev": "DEC", "threshold": 0.75,
                                         "normalization": True, "duration_min": 1},
                    "smoothing": {"window": 5, "method": "triangle"},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "EnsoSeasonality": {
                    "variables": ["sst"],
                    "regions": {"sst": "nino3.4"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "metric_computation": "abs_relative_difference",
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                },
                "EnsoSstSkew": {
                    "variables": ["sst"],
                    "regions": {"sst": "nino3.4"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "metric_computation": "abs_relative_difference",
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                },
                # "EnsodSstOce_1": {
                #     "variables": ["sst", "thf"],
                #     "regions": {"sst": "nino3", "thf": "nino3"},
                #     "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "thf": ["ERA-Interim", "Tropflux"]},
                #     "event_definition": {"region_ev": "nino3.4", "season_ev": "DEC", "threshold": 0.75,
                #                          "normalization": False, "duration_min": 1},
                #     "smoothing": {"window": 5, "method": "triangle"},
                #     "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                #                    "newgrid_name": "generic_1x1deg"},
                #     "metric_computation": "abs_relative_difference",
                # },
                "EnsodSstOce_2": {
                    "variables": ["sst", "thf"],
                    "regions": {"sst": "nino3", "thf": "nino3"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "thf": ["ERA-Interim", "Tropflux"]},
                    "event_definition": {"region_ev": "nino3.4", "season_ev": "DEC", "threshold": 0.75,
                                         "normalization": True, "duration_min": 1},
                    "smoothing": {"window": 5, "method": "triangle"},
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                    "metric_computation": "abs_relative_difference",
                },
                "EnsoFbSshSst": {
                    "variables": ["sst", "ssh"],
                    "regions": {"sst": "nino3", "ssh": "nino3"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "ssh": ["AVISO"]},
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                    "metric_computation": "abs_relative_difference",
                },
                # "EnsoFbSstLhf": {
                #     "variables": ["sst", "lhf"],
                #     "regions": {"sst": "nino3", "lhf": "nino3"},
                #     "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "lhf": ["ERA-Interim", "Tropflux"]},
                #     "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                #                    "newgrid_name": "generic_1x1deg"},
                #     "metric_computation": "abs_relative_difference",
                # },
                # "EnsoFbSstLwr": {
                #     "variables": ["sst", "lwr"],
                #     "regions": {"sst": "nino3", "lwr": "nino3"},
                #     "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "lwr": ["ERA-Interim", "Tropflux"]},
                #     "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                #                    "newgrid_name": "generic_1x1deg"},
                #     "metric_computation": "abs_relative_difference",
                # },
                # "EnsoFbSstShf": {
                #     "variables": ["sst", "shf"],
                #     "regions": {"sst": "nino3", "shf": "nino3"},
                #     "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "shf": ["ERA-Interim", "Tropflux"]},
                #     "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                #                    "newgrid_name": "generic_1x1deg"},
                #     "metric_computation": "abs_relative_difference",
                # },
                # "EnsoFbSstSwr": {
                #     "variables": ["sst", "swr"],
                #     "regions": {"sst": "nino3", "swr": "nino3"},
                #     "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "swr": ["ERA-Interim", "Tropflux"]},
                #     "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                #                    "newgrid_name": "generic_1x1deg"},
                #     "metric_computation": "abs_relative_difference",
                # },
                "EnsoFbSstTaux": {
                    "variables": ["sst", "taux"],
                    "regions": {"sst": "nino3", "taux": "nino4"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "taux": ["ERA-Interim", "Tropflux"]},
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                    "metric_computation": "abs_relative_difference",
                },
                "EnsoFbSstThf": {
                    "variables": ["sst", "thf"],
                    "regions": {"sst": "nino3", "thf": "nino3"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "thf": ["ERA-Interim", "Tropflux"]},
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                    "metric_computation": "abs_relative_difference",
                },
                "EnsoFbTauxSsh": {
                    "variables": ["taux", "ssh"],
                    "regions": {"ssh": "nino3", "taux": "nino4"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "ssh": ["AVISO"]},
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                    "metric_computation": "abs_relative_difference",
                },
            },
            "common_collection_parameters": {
                "detrending": {"method": "linear"},
                "frequency": "monthly",
                "min_time_steps": 12,
                "normalization": False,
                "project_interpreter": "CMIP",
                "observed_period": None,
                "modeled_period": None,
            },
            "plot_order": ["BiasSstLonRmse", "BiasTauxLonRmse", "EnsoSstLonRmse", "EnsoAmpl", "EnsoSeasonality",
                           "EnsoSstSkew", "EnsodSstOce_2", "EnsoFbSstThf", "EnsoFbSstTaux", "EnsoFbTauxSsh",
                           "EnsoFbSshSst"],
            "description": "Describe which science question this collection is about",
        },
        "all_metrics": {
            "long_name": "Metrics Collection for ENSO performance",
            "metrics_list": {
                "BiasLhfLatRmse": {
                    "variables": ["lhf"],
                    "regions": {"lhf": "nino3_LatExt"},
                    "obs_name": {"lhf": ["ERA-Interim", "OAFlux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "BiasLhfLonRmse": {
                    "variables": ["lhf"],
                    "regions": {"lhf": "equatorial_pacific"},
                    "obs_name": {"lhf": ["ERA-Interim", "OAFlux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "BiasLwrLatRmse": {
                    "variables": ["lwr"],
                    "regions": {"lwr": "nino3_LatExt"},
                    "obs_name": {"lwr": ["ERA-Interim", "OAFlux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "BiasLwrLonRmse": {
                    "variables": ["lwr"],
                    "regions": {"lwr": "equatorial_pacific"},
                    "obs_name": {"lwr": ["ERA-Interim", "OAFlux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "BiasPrLatRmse": {
                    "variables": ["pr"],
                    "regions": {"pr": "nino3_LatExt"},
                    "obs_name": {"pr": ["ERA-Interim", "GPCPv2.3"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "BiasPrLonRmse": {
                    "variables": ["pr"],
                    "regions": {"pr": "equatorial_pacific"},
                    "obs_name": {"pr": ["ERA-Interim", "GPCPv2.3"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "BiasShfLatRmse": {
                    "variables": ["shf"],
                    "regions": {"shf": "nino3_LatExt"},
                    "obs_name": {"shf": ["ERA-Interim", "OAFlux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "BiasShfLonRmse": {
                    "variables": ["shf"],
                    "regions": {"shf": "equatorial_pacific"},
                    "obs_name": {"shf": ["ERA-Interim", "OAFlux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "BiasSshLatRmse": {
                    "variables": ["ssh"],
                    "regions": {"ssh": "nino3_LatExt"},
                    "obs_name": {"ssh": ["AVISO"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "BiasSshLonRmse": {
                    "variables": ["ssh"],
                    "regions": {"ssh": "equatorial_pacific"},
                    "obs_name": {"ssh": ["AVISO"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "BiasSstLatRmse": {
                    "variables": ["sst"],
                    "regions": {"sst": "nino3_LatExt"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "BiasSstLonRmse": {
                    "variables": ["sst"],
                    "regions": {"sst": "equatorial_pacific"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "BiasSwrLatRmse": {
                    "variables": ["swr"],
                    "regions": {"swr": "nino3_LatExt"},
                    "obs_name": {"swr": ["ERA-Interim", "OAFlux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "BiasSwrLonRmse": {
                    "variables": ["swr"],
                    "regions": {"swr": "equatorial_pacific"},
                    "obs_name": {"swr": ["ERA-Interim", "OAFlux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "BiasTauxLatRmse": {
                    "variables": ["taux"],
                    "regions": {"taux": "equatorial_pacific_LatExt"},
                    "obs_name": {"taux": ["ERA-Interim", "Tropflux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "BiasTauxLonRmse": {
                    "variables": ["taux"],
                    "regions": {"taux": "equatorial_pacific"},
                    "obs_name": {"taux": ["ERA-Interim", "Tropflux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "BiasTauyLatRmse": {
                    "variables": ["tauy"],
                    "regions": {"tauy": "equatorial_pacific_LatExt"},
                    "obs_name": {"tauy": ["ERA-Interim", "Tropflux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "BiasTauyLonRmse": {
                    "variables": ["tauy"],
                    "regions": {"tauy": "equatorial_pacific"},
                    "obs_name": {"tauy": ["ERA-Interim", "Tropflux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "BiasThfLatRmse": {
                    "variables": ["thf"],
                    "regions": {"thf": "nino3_LatExt"},
                    "obs_name": {"thf": ["ERA-Interim", "OAFlux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "BiasThfLonRmse": {
                    "variables": ["thf"],
                    "regions": {"thf": "equatorial_pacific"},
                    "obs_name": {"thf": ["ERA-Interim", "OAFlux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "EnsoAmpl": {
                    "variables": ["sst"],
                    "regions": {"sst": "nino3.4"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                    "metric_computation": "abs_relative_difference",
                },
                "EnsoDuration": {
                    "variables": ["sst"],
                    "regions": {"sst": "nino3.4"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "nbr_years_window": 6,
                    "smoothing": {"window": 5, "method": "triangle"},
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                    "metric_computation": "abs_relative_difference",
                },
                "EnsodSstOce_1": {
                    "variables": ["sst", "thf"],
                    "regions": {"sst": "nino3", "thf": "nino3"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "thf": ["ERA-Interim", "Tropflux"]},
                    "smoothing": {"window": 5, "method": "triangle"},
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                    "metric_computation": "abs_relative_difference",
                },
                "EnsodSstOce_2": {
                    "variables": ["sst", "thf"],
                    "regions": {"sst": "nino3", "thf": "nino3"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "thf": ["ERA-Interim", "Tropflux"]},
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                    "metric_computation": "abs_relative_difference",
                },
                "EnsoFbSshSst": {
                    "variables": ["sst", "ssh"],
                    "regions": {"sst": "nino3", "ssh": "nino3"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "ssh": ["AVISO"]},
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                    "metric_computation": "abs_relative_difference",
                },
                "EnsoFbSstLhf": {
                    "variables": ["sst", "lhf"],
                    "regions": {"sst": "nino3", "lhf": "nino3"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "lhf": ["ERA-Interim", "Tropflux"]},
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                    "metric_computation": "abs_relative_difference",
                },
                "EnsoFbSstLwr": {
                    "variables": ["sst", "lwr"],
                    "regions": {"sst": "nino3", "lwr": "nino3"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "lwr": ["ERA-Interim", "Tropflux"]},
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                    "metric_computation": "abs_relative_difference",
                },
                "EnsoFbSstShf": {
                    "variables": ["sst", "shf"],
                    "regions": {"sst": "nino3", "shf": "nino3"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "shf": ["ERA-Interim", "Tropflux"]},
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                    "metric_computation": "abs_relative_difference",
                },
                "EnsoFbSstSwr": {
                    "variables": ["sst", "swr"],
                    "regions": {"sst": "nino3", "swr": "nino3"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "swr": ["ERA-Interim", "Tropflux"]},
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                    "metric_computation": "abs_relative_difference",
                },
                "EnsoFbSstTaux": {
                    "variables": ["sst", "taux"],
                    "regions": {"sst": "nino3", "taux": "nino4"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "taux": ["ERA-Interim", "Tropflux"]},
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                    "metric_computation": "abs_relative_difference",
                },
                "EnsoFbSstThf": {
                    "variables": ["sst", "thf"],
                    "regions": {"sst": "nino3", "thf": "nino3"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "thf": ["ERA-Interim", "Tropflux"]},
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                    "metric_computation": "abs_relative_difference",
                },
                "EnsoFbTauxSsh": {
                    "variables": ["taux", "ssh"],
                    "regions": {"ssh": "nino3", "taux": "nino4"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "ssh": ["AVISO"]},
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                    "metric_computation": "abs_relative_difference",
                },
                "EnsoLhfLonRmse": {
                    "variables": ["sst", "lhf"],
                    "regions": {"lhf": "equatorial_pacific", "sst": "nino3.4"},
                    "obs_name": {"lhf": ["ERA-Interim", "OAFlux"], "sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "EnsoLhfTsRmse": {
                    "variables": ["sst", "lhf"],
                    "regions": {"lhf": "nino3.4", "sst": "nino3.4"},
                    "nbr_years_window": 6,
                    "obs_name": {"lhf": ["ERA-Interim", "OAFlux"], "sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "smoothing": {"window": 5, "method": "triangle"},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "EnsoLwrLonRmse": {
                    "variables": ["sst", "lwr"],
                    "regions": {"lwr": "equatorial_pacific", "sst": "nino3.4"},
                    "obs_name": {"lwr": ["ERA-Interim", "OAFlux"], "sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "EnsoLwrTsRmse": {
                    "variables": ["sst", "lwr"],
                    "regions": {"lwr": "nino3.4", "sst": "nino3.4"},
                    "nbr_years_window": 6,
                    "obs_name": {"lwr": ["ERA-Interim", "OAFlux"], "sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "smoothing": {"window": 5, "method": "triangle"},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "EnsoPrLonRmse": {
                    "variables": ["sst", "pr"],
                    "regions": {"pr": "equatorial_pacific", "sst": "nino3.4"},
                    "obs_name": {"pr": ["ERA-Interim", "GPCPv2.3"], "sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "EnsoPrTsRmse": {
                    "variables": ["sst", "pr"],
                    "regions": {"pr": "nino3", "sst": "nino3.4"},
                    "nbr_years_window": 6,
                    "obs_name": {"pr": ["ERA-Interim", "GPCPv2.3"], "sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "smoothing": {"window": 5, "method": "triangle"},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "EnsoSeasonality": {
                    "variables": ["sst"],
                    "regions": {"sst": "nino3.4"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                    "metric_computation": "abs_relative_difference",
                },
                "EnsoShfLonRmse": {
                    "variables": ["sst", "shf"],
                    "regions": {"shf": "equatorial_pacific", "sst": "nino3.4"},
                    "obs_name": {"shf": ["ERA-Interim", "OAFlux"], "sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "EnsoShfTsRmse": {
                    "variables": ["sst", "shf"],
                    "regions": {"shf": "nino3.4", "sst": "nino3.4"},
                    "nbr_years_window": 6,
                    "obs_name": {"shf": ["ERA-Interim", "OAFlux"], "sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "smoothing": {"window": 5, "method": "triangle"},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "EnsoSshLonRmse": {
                    "variables": ["sst", "ssh"],
                    "regions": {"ssh": "equatorial_pacific", "sst": "nino3.4"},
                    "obs_name": {"ssh": ["AVISO"], "sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "EnsoSshTsRmse": {
                    "variables": ["sst", "ssh"],
                    "regions": {"ssh": "nino3.4", "sst": "nino3.4"},
                    "nbr_years_window": 6,
                    "obs_name": {"ssh": ["AVISO"], "sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "smoothing": {"window": 5, "method": "triangle"},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "EnsoSstDiversity_1": {
                    "variables": ["sst"],
                    "regions": {"sst": "equatorial_pacific"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                    "metric_computation": "abs_relative_difference",
                },
                "EnsoSstDiversity_2": {
                    "variables": ["sst"],
                    "regions": {"sst": "equatorial_pacific"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                    "metric_computation": "abs_relative_difference",
                },
                "EnsoSstLonRmse": {
                    "variables": ["sst"],
                    "regions": {"sst": "equatorial_pacific"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "EnsoSstSkew": {
                    "variables": ["sst"],
                    "regions": {"sst": "nino3.4"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "metric_computation": "abs_relative_difference",
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                },
                "EnsoSstTsRmse": {
                    "variables": ["sst"],
                    "regions": {"sst": "nino3.4"},
                    "nbr_years_window": 6,
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "smoothing": {"window": 5, "method": "triangle"},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "EnsoSwrLonRmse": {
                    "variables": ["sst", "swr"],
                    "regions": {"swr": "equatorial_pacific", "sst": "nino3.4"},
                    "obs_name": {"swr": ["ERA-Interim", "OAFlux"], "sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "EnsoSwrTsRmse": {
                    "variables": ["sst", "swr"],
                    "regions": {"swr": "nino3.4", "sst": "nino3.4"},
                    "nbr_years_window": 6,
                    "obs_name": {"swr": ["ERA-Interim", "OAFlux"], "sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "smoothing": {"window": 5, "method": "triangle"},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "EnsoTauxLonRmse": {
                    "variables": ["sst", "taux"],
                    "regions": {"taux": "equatorial_pacific", "sst": "nino3.4"},
                    "obs_name": {"taux": ["ERA-Interim", "Tropflux"], "sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "EnsoTauxTsRmse": {
                    "variables": ["sst", "taux"],
                    "regions": {"taux": "nino4", "sst": "nino3.4"},
                    "nbr_years_window": 6,
                    "obs_name": {"taux": ["ERA-Interim", "Tropflux"], "sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "smoothing": {"window": 5, "method": "triangle"},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "EnsoTauyLonRmse": {
                    "variables": ["sst", "tauy"],
                    "regions": {"tauy": "equatorial_pacific", "sst": "nino3.4"},
                    "obs_name": {"tauy": ["ERA-Interim", "Tropflux"], "sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "EnsoTauyTsRmse": {
                    "variables": ["sst", "tauy"],
                    "regions": {"tauy": "nino3.4", "sst": "nino3.4"},
                    "nbr_years_window": 6,
                    "obs_name": {"tauy": ["ERA-Interim", "Tropflux"], "sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "smoothing": {"window": 5, "method": "triangle"},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "EnsoThfLonRmse": {
                    "variables": ["sst", "thf"],
                    "regions": {"sst": "nino3.4", "thf": "equatorial_pacific", },
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "thf": ["ERA-Interim", "OAFlux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "EnsoThfTsRmse": {
                    "variables": ["sst", "thf"],
                    "regions": {"sst": "nino3.4", "thf": "nino3.4"},
                    "nbr_years_window": 6,
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "thf": ["ERA-Interim", "OAFlux"], },
                    "smoothing": {"window": 5, "method": "triangle"},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "grad_lat_pr": {
                    "variables": ["pr"],
                    "regions": {"pr": ["grad_off", "grad_equ"]},
                    "obs_name": {"pr": ["ERA-Interim", "GPCPv2.3"]},
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                    "metric_computation": "abs_relative_difference",
                },
                "grad_lat_ssh": {
                    "variables": ["ssh"],
                    "regions": {"ssh": ["grad_off", "grad_equ"]},
                    "obs_name": {"ssh": ["AVISO"]},
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                    "metric_computation": "abs_relative_difference",
                },
                "grad_lat_sst": {
                    "variables": ["sst"],
                    "regions": {"sst": ["grad_off", "grad_equ"]},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                    "metric_computation": "abs_relative_difference",
                },
                "grad_lon_pr": {
                    "variables": ["pr"],
                    "regions": {"pr": ["grad_west", "grad_east"]},
                    "obs_name": {"pr": ["ERA-Interim", "GPCPv2.3"]},
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                    "metric_computation": "abs_relative_difference",
                },
                "grad_lon_ssh": {
                    "variables": ["ssh"],
                    "regions": {"ssh": ["grad_west", "grad_east"]},
                    "obs_name": {"ssh": ["AVISO"]},
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                    "metric_computation": "abs_relative_difference",
                },
                "grad_lon_sst": {
                    "variables": ["sst"],
                    "regions": {"sst": ["grad_west", "grad_east"]},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "regridding": {"regridder": "cdms", "regridTool": "esmf", "regridMethod": "linear",
                                   "newgrid_name": "generic_1x1deg"},
                    "metric_computation": "abs_relative_difference",
                },
                "SeasonalLhfLatRmse": {
                    "variables": ["lhf"],
                    "regions": {"lhf": "nino3_LatExt"},
                    "obs_name": {"lhf": ["ERA-Interim", "OAFlux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "SeasonalLhfLonRmse": {
                    "variables": ["lhf"],
                    "regions": {"lhf": "equatorial_pacific"},
                    "obs_name": {"lhf": ["ERA-Interim", "OAFlux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "SeasonalLwrLatRmse": {
                    "variables": ["lwr"],
                    "regions": {"lwr": "nino3_LatExt"},
                    "obs_name": {"lwr": ["ERA-Interim", "OAFlux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "SeasonalLwrLonRmse": {
                    "variables": ["lwr"],
                    "regions": {"lwr": "equatorial_pacific"},
                    "obs_name": {"lwr": ["ERA-Interim", "OAFlux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "SeasonalPrLatRmse": {
                    "variables": ["pr"],
                    "regions": {"pr": "nino3_LatExt"},
                    "obs_name": {"pr": ["ERA-Interim", "GPCPv2.3"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "SeasonalPrLonRmse": {
                    "variables": ["pr"],
                    "regions": {"pr": "equatorial_pacific"},
                    "obs_name": {"pr": ["ERA-Interim", "GPCPv2.3"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "SeasonalShfLatRmse": {
                    "variables": ["shf"],
                    "regions": {"shf": "nino3_LatExt"},
                    "obs_name": {"shf": ["ERA-Interim", "OAFlux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "SeasonalShfLonRmse": {
                    "variables": ["shf"],
                    "regions": {"shf": "equatorial_pacific"},
                    "obs_name": {"shf": ["ERA-Interim", "OAFlux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "SeasonalSshLatRmse": {
                    "variables": ["ssh"],
                    "regions": {"ssh": "nino3_LatExt"},
                    "obs_name": {"ssh": ["AVISO"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "SeasonalSshLonRmse": {
                    "variables": ["ssh"],
                    "regions": {"ssh": "equatorial_pacific"},
                    "obs_name": {"ssh": ["AVISO"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "SeasonalSstLatRmse": {
                    "variables": ["sst"],
                    "regions": {"sst": "nino3_LatExt"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "SeasonalSstLonRmse": {
                    "variables": ["sst"],
                    "regions": {"sst": "equatorial_pacific"},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "SeasonalSwrLatRmse": {
                    "variables": ["swr"],
                    "regions": {"swr": "nino3_LatExt"},
                    "obs_name": {"swr": ["ERA-Interim", "OAFlux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "SeasonalSwrLonRmse": {
                    "variables": ["swr"],
                    "regions": {"swr": "equatorial_pacific"},
                    "obs_name": {"swr": ["ERA-Interim", "OAFlux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "SeasonalTauxLatRmse": {
                    "variables": ["taux"],
                    "regions": {"taux": "equatorial_pacific_LatExt"},
                    "obs_name": {"taux": ["ERA-Interim", "Tropflux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "SeasonalTauxLonRmse": {
                    "variables": ["taux"],
                    "regions": {"taux": "equatorial_pacific"},
                    "obs_name": {"taux": ["ERA-Interim", "Tropflux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "SeasonalTauyLatRmse": {
                    "variables": ["tauy"],
                    "regions": {"tauy": "equatorial_pacific_LatExt"},
                    "obs_name": {"tauy": ["ERA-Interim", "Tropflux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "SeasonalTauyLonRmse": {
                    "variables": ["tauy"],
                    "regions": {"tauy": "equatorial_pacific"},
                    "obs_name": {"tauy": ["ERA-Interim", "Tropflux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "SeasonalThfLatRmse": {
                    "variables": ["thf"],
                    "regions": {"thf": "nino3_LatExt"},
                    "obs_name": {"thf": ["ERA-Interim", "OAFlux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "SeasonalThfLonRmse": {
                    "variables": ["thf"],
                    "regions": {"thf": "equatorial_pacific"},
                    "obs_name": {"thf": ["ERA-Interim", "OAFlux"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                },
                "telecon_pr_djf": {
                    "variables": ["sst", "pr"],
                    "regions": {
                        "sst": "nino3.4",
                        "pr": ["GIC", "NWN", "NEN", "WNA", "CNA", "ENA", "NCA", "SCA", "CAR_L", "CAR_O", "NWS", "NSA",
                               "NES", "SAM", "SWS", "SES", "SSA", "NEU", "WCE", "EEU", "MED_L", "MED_O", "SAH", "WAF",
                               "CAF", "NEAF", "SEAF", "WSAF", "ESAF", "MDG", "RAR", "WSB", "ESB", "RFE", "WCA", "ECA",
                               "TIB", "EAS", "ARP", "SAS", "SEA_L", "SEA_O", "NAU", "CAU", "EAU", "SAU", "NZ", "EAN",
                               "WAN", "ARO", "NPO", "EPO", "SPO", "NAO", "EAO", "SAO", "ARS", "BOB", "EIO", "SIO",
                               "SOO"]},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "pr": ["ERA-Interim", "GPCPv2.3"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                    "significance": 90,
                },
            },
            "common_collection_parameters": {
                "detrending": {"method": "linear"},
                "event_definition": {"region_ev": "nino3.4", "season_ev": "NDJ", "threshold": 0.5,
                                     "normalization": True, "smoothing": False, "duration_min": 5},
                "frequency": "monthly",
                "min_time_steps": 12,
                "normalization": False,
                "project_interpreter": "CMIP",
                "observed_period": ("1982-01-01 00:00:00", "2005-12-31 23:59:60.0"),
                # "observed_period": None,
                "modeled_period": ("1982-01-01 00:00:00", "2005-12-31 23:59:60.0"),
                # "modeled_period": None,
            },
            "plot_order": ["BiasPrLatRmse", "BiasPrLonRmse", "BiasSstLonRmse", "BiasTauxLonRmse",
                           "SeasonalPrLatRmse", "SeasonalPrLonRmse", "SeasonalSstLonRmse", "SeasonalTauxLonRmse",
                           "EnsoSstLonRmse", "EnsoSstTsRmse", "EnsoAmpl", "EnsoSeasonality", "EnsoSstSkew",
                           "EnsodDuration", "EnsoSstDiversity_2"],
            "description": "Describe which science question this collection is about",
        },
        "telecon_com": {
            "long_name": "Metrics Collection for regional ENSO teleconnections",
            "metrics_list": {
                "telecon_pr_amp_djf": {
                    "variables": ["sst", "pr"],
                    "regions": {
                        "sst": "nino3.4",
                        "pr": ["GIC", "NWN", "NEN", "WNA", "CNA", "ENA", "NCA", "SCA", "CAR_L", "CAR_O", "NWS", "NSA",
                               "NES", "SAM", "SWS", "SES", "SSA", "NEU", "WCE", "EEU", "MED_L", "MED_O", "SAH", "WAF",
                               "CAF", "NEAF", "SEAF", "WSAF", "ESAF", "MDG", "RAR", "WSB", "ESB", "RFE", "WCA", "ECA",
                               "TIB", "EAS", "ARP", "SAS", "SEA_L", "SEA_O", "NAU", "CAU", "EAU", "SAU", "NZ", "EAN",
                               "WAN", "ARO", "NPO", "EPO", "SPO", "NAO", "EAO", "SAO", "ARS", "BOB", "EIO", "SIO",
                               "SOO"]},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "pr": ["ERA-Interim", "GPCPv2.3"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                    "significance": 90,
                },
                "telecon_pr_ano_djf": {
                    "variables": ["sst", "pr"],
                    "regions": {
                        "sst": "nino3.4",
                        "pr": ["GIC", "NWN", "NEN", "WNA", "CNA", "ENA", "NCA", "SCA", "CAR_L", "CAR_O", "NWS", "NSA",
                               "NES", "SAM", "SWS", "SES", "SSA", "NEU", "WCE", "EEU", "MED_L", "MED_O", "SAH", "WAF",
                               "CAF", "NEAF", "SEAF", "WSAF", "ESAF", "MDG", "RAR", "WSB", "ESB", "RFE", "WCA", "ECA",
                               "TIB", "EAS", "ARP", "SAS", "SEA_L", "SEA_O", "NAU", "CAU", "EAU", "SAU", "NZ", "EAN",
                               "WAN", "ARO", "NPO", "EPO", "SPO", "NAO", "EAO", "SAO", "ARS", "BOB", "EIO", "SIO",
                               "SOO"]},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "pr": ["ERA-Interim", "GPCPv2.3"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                    "significance": 90,
                },
            },
            "common_collection_parameters": {
                "detrending": {"method": "linear"},
                "event_definition": {"region_ev": "nino3.4", "season_ev": "NDJ", "threshold": 0.5,
                                     "normalization": True, "smoothing": False, "duration_min": 5},
                "frequency": "monthly",
                "min_time_steps": 12,
                "normalization": False,
                "project_interpreter": "CMIP",
                "observed_period": ("1982-01-01 00:00:00", "2014-12-31 23:59:60.0"),
                "modeled_period": ("1982-01-01 00:00:00", "2014-12-31 23:59:60.0"),
            },
            "plot_order": ["telecon_pr_amp_djf", "telecon_pr_ano_djf"],
            "description": "How well are ENSO's regional teleconnections represented in historical simulations?",
        },
        "telecon_ext": {
            "long_name": "Metrics Collection for regional ENSO teleconnections",
            "metrics_list": {
                "telecon_pr_amp_djf": {
                    "variables": ["sst", "pr"],
                    "regions": {
                        "sst": "nino3.4",
                        "pr": ["GIC", "NWN", "NEN", "WNA", "CNA", "ENA", "NCA", "SCA", "CAR_L", "CAR_O", "NWS", "NSA",
                               "NES", "SAM", "SWS", "SES", "SSA", "NEU", "WCE", "EEU", "MED_L", "MED_O", "SAH", "WAF",
                               "CAF", "NEAF", "SEAF", "WSAF", "ESAF", "MDG", "RAR", "WSB", "ESB", "RFE", "WCA", "ECA",
                               "TIB", "EAS", "ARP", "SAS", "SEA_L", "SEA_O", "NAU", "CAU", "EAU", "SAU", "NZ", "EAN",
                               "WAN", "ARO", "NPO", "EPO", "SPO", "NAO", "EAO", "SAO", "ARS", "BOB", "EIO", "SIO",
                               "SOO"]},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "pr": ["ERA-Interim", "GPCPv2.3"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                    "significance": 90,
                },
                "telecon_pr_ano_djf": {
                    "variables": ["sst", "pr"],
                    "regions": {
                        "sst": "nino3.4",
                        "pr": ["GIC", "NWN", "NEN", "WNA", "CNA", "ENA", "NCA", "SCA", "CAR_L", "CAR_O", "NWS", "NSA",
                               "NES", "SAM", "SWS", "SES", "SSA", "NEU", "WCE", "EEU", "MED_L", "MED_O", "SAH", "WAF",
                               "CAF", "NEAF", "SEAF", "WSAF", "ESAF", "MDG", "RAR", "WSB", "ESB", "RFE", "WCA", "ECA",
                               "TIB", "EAS", "ARP", "SAS", "SEA_L", "SEA_O", "NAU", "CAU", "EAU", "SAU", "NZ", "EAN",
                               "WAN", "ARO", "NPO", "EPO", "SPO", "NAO", "EAO", "SAO", "ARS", "BOB", "EIO", "SIO",
                               "SOO"]},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "pr": ["ERA-Interim", "GPCPv2.3"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                    "significance": 90,
                },
            },
            "common_collection_parameters": {
                "detrending": {"method": "linear"},
                "event_definition": {"region_ev": "nino3.4", "season_ev": "NDJ", "threshold": 0.5,
                                     "normalization": True, "smoothing": False, "duration_min": 5},
                "frequency": "monthly",
                "min_time_steps": 12,
                "normalization": False,
                "project_interpreter": "CMIP",
                "observed_period": ("1901-01-01 00:00:00", "2010-12-31 23:59:60.0"),
                "modeled_period": ("1901-01-01 00:00:00", "2010-12-31 23:59:60.0"),
            },
            "plot_order": ["telecon_pr_amp_djf", "telecon_pr_ano_djf"],
            "description": "How well are ENSO's regional teleconnections represented in historical simulations?",
        },
        "telecon_mix": {
            "long_name": "Metrics Collection for regional ENSO teleconnections",
            "metrics_list": {
                "telecon_pr_amp_djf": {
                    "variables": ["sst", "pr"],
                    "regions": {
                        "sst": "nino3.4",
                        "pr": ["GIC", "NWN", "NEN", "WNA", "CNA", "ENA", "NCA", "SCA", "CAR_L", "CAR_O", "NWS", "NSA",
                               "NES", "SAM", "SWS", "SES", "SSA", "NEU", "WCE", "EEU", "MED_L", "MED_O", "SAH", "WAF",
                               "CAF", "NEAF", "SEAF", "WSAF", "ESAF", "MDG", "RAR", "WSB", "ESB", "RFE", "WCA", "ECA",
                               "TIB", "EAS", "ARP", "SAS", "SEA_L", "SEA_O", "NAU", "CAU", "EAU", "SAU", "NZ", "EAN",
                               "WAN", "ARO", "NPO", "EPO", "SPO", "NAO", "EAO", "SAO", "ARS", "BOB", "EIO", "SIO",
                               "SOO"]},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "pr": ["ERA-Interim", "GPCPv2.3"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                    "significance": 90,
                },
                "telecon_pr_ano_djf": {
                    "variables": ["sst", "pr"],
                    "regions": {
                        "sst": "nino3.4",
                        "pr": ["GIC", "NWN", "NEN", "WNA", "CNA", "ENA", "NCA", "SCA", "CAR_L", "CAR_O", "NWS", "NSA",
                               "NES", "SAM", "SWS", "SES", "SSA", "NEU", "WCE", "EEU", "MED_L", "MED_O", "SAH", "WAF",
                               "CAF", "NEAF", "SEAF", "WSAF", "ESAF", "MDG", "RAR", "WSB", "ESB", "RFE", "WCA", "ECA",
                               "TIB", "EAS", "ARP", "SAS", "SEA_L", "SEA_O", "NAU", "CAU", "EAU", "SAU", "NZ", "EAN",
                               "WAN", "ARO", "NPO", "EPO", "SPO", "NAO", "EAO", "SAO", "ARS", "BOB", "EIO", "SIO",
                               "SOO"]},
                    "obs_name": {"sst": ["ERA-Interim", "HadISST", "Tropflux"], "pr": ["ERA-Interim", "GPCPv2.3"]},
                    "regridding": {"model_orand_obs": 2, "regridder": "cdms", "regridTool": "esmf",
                                   "regridMethod": "linear", "newgrid_name": "generic_1x1deg"},
                    "significance": 90,
                },
            },
            "common_collection_parameters": {
                "detrending": {"method": "linear"},
                "event_definition": {"region_ev": "nino3.4", "season_ev": "NDJ", "threshold": 0.5,
                                     "normalization": True, "smoothing": False, "duration_min": 5},
                "frequency": "monthly",
                "min_time_steps": 12,
                "normalization": False,
                "project_interpreter": "CMIP",
                "observed_period": None,
                "modeled_period": None,
            },
            "plot_order": ["telecon_pr_amp_djf", "telecon_pr_ano_djf"],
            "description": "How well are ENSO's regional teleconnections represented in historical simulations?",
        },
    }
    if mc is True:
        return metrics_collection
    else:
        return metrics_collection[mc]


# List of reference observations for each variables
def ReferenceObservations(dataset=True):
    dict_ref_obs = {
        "20CRv2": {
            "website": "https://www.esrl.noaa.gov/psd/data/gridded/data.20thC_ReanV2.monolevel.mm.html",
            "file_name": "<var_name>" + "*.mon.mean.nc",
            "variable_name_in_file": {
                "landmask": {"var_name": "land"},
                "lhf": {"var_name": "lhtfl"},
                # longwave radiation computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # lwr = dlwrf - ulwrf
                "lwr": {"var_name": ["dlwrf", "ulwrf"], "algebric_calculation": ["plus", "minus"]},
                "pr": {"var_name": "prate"},
                "shf": {"var_name": "shtfl"},
                # shortwave radiation computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # swr = dswrf - uswrf
                "swr": {"var_name": ["dswrf", "uswrf"], "algebric_calculation": ["plus", "minus"]},
                "taux": {"var_name": "uflx"},
                "tauy": {"var_name": "vflx"},
                # total heat flux computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # tfh = lhtfl + shtfl + dlwrf - ulwrf + dswrf - uswrf
                "thf": {
                    "var_name": ["lhtfl", "shtfl", "dlwrf", "ulwrf", "dswrf", "uswrf"],
                    "algebric_calculation": ["plus", "plus", "plus", "minus", "plus", "minus"],
                },
            },
        },
        "20CRv2c": {
            "website": "https://esgf-node.llnl.gov/search/create-ip/",
            "file_name": "<var_name>" + "_Amon_reanalysis_20CRv2c_185101-201212.nc",
            "variable_name_in_file": {
                "landmask": {"var_name": "land"},
                "lhf": {"var_name": "hfls"},
                # longwave radiation computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # lwr = rlds - rlus
                "lwr": {"var_name": ["rlds", "rlus"], "algebric_calculation": ["plus", "minus"]},
                "pr": {"var_name": "pr"},
                "shf": {"var_name": "hfss"},
                "slp": {"var_name": "psl"},
                "sst": {"var_name": "ts"},
                # shortwave radiation computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # swr = rsds - rsus
                "swr": {"var_name": ["rsds", "rsus"], "algebric_calculation": ["plus", "minus"]},
                "taux": {"var_name": "tauu"},
                "tauy": {"var_name": "tauv"},
                # total heat flux computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # tfh = hfls + hfss + rlds - rlus + rsds - rsus
                "thf": {
                    "var_name": ["hfls", "hfss", "rlds", "rlus", "rsds", "rsus"],
                    "algebric_calculation": ["plus", "plus", "plus", "minus", "plus", "minus"],
                },
                "ts": {"var_name": "ts"},
            },
        },
        "20CRv3": {
            "website": "https://www.esrl.noaa.gov/psd/data/gridded/data.20thC_ReanV3.monolevel.html",
            "file_name": "<var_name>" + "*.mon.mean.nc",
            "variable_name_in_file": {
                "landmask": {"var_name": "land"},
                "lhf": {"var_name": "lhtfl"},
                # longwave radiation computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # lwr = dlwrf - ulwrf
                "lwr": {"var_name": ["dlwrf", "ulwrf"], "algebric_calculation": ["plus", "minus"]},
                "pr": {"var_name": "prate"},
                "shf": {"var_name": "shtfl"},
                "slp": {"var_name": "prmsl"},
                "sst": {"var_name": "skt"},
                # shortwave radiation computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # swr = dswrf - uswrf
                "swr": {"var_name": ["dswrf", "uswrf"], "algebric_calculation": ["plus", "minus"]},
                "taux": {"var_name": "uflx"},
                "tauy": {"var_name": "vflx"},
                # total heat flux computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # tfh = lhtfl + shtfl + dlwrf - ulwrf + dswrf - uswrf
                "thf": {
                    "var_name": ["lhtfl", "shtfl", "dlwrf", "ulwrf", "dswrf", "uswrf"],
                    "algebric_calculation": ["plus", "plus", "plus", "minus", "plus", "minus"],
                },
                "ts": {"var_name": "skt"},
            },
        },
        "AVISO": {
            "website": "https://www.aviso.altimetry.fr/en/data/products/sea-surface-height-products/global.html",
            "file_name": "dt_global_allsat_msla_h_y????_m??.nc",
            "variable_name_in_file": {"ssh": {"var_name": "sla"}, },
        },
        "AVISO_adt": {
            "website": "https://www.aviso.altimetry.fr/en/data/products/sea-surface-height-products/global.html",
            "file_name": "dt_global_twosat_phy_l4_*.nc",
            "variable_name_in_file": {"ssh": {"var_name": "adt"}, },
        },
        "AVISO_sla": {
            "website": "https://www.aviso.altimetry.fr/en/data/products/sea-surface-height-products/global.html",
            "file_name": "dt_global_twosat_phy_l4_*.nc",
            "variable_name_in_file": {"ssh": {"var_name": "sla"}, },
        },
        "CERA-20C": {
            "website": "https://apps.ecmwf.int/datasets/data/cera20c/levtype=sfc/type=an/",
            "file_name": "*.nc",
            "variable_name_in_file": {
                "lhf": {"var_name": "hfls"},
                # longwave radiation computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # lwr = rlds - rlus
                "lwr": {"var_name": ["rlds", "rlus"], "algebric_calculation": ["plus", "minus"]},
                "pr": {"var_name": "pr"},
                "shf": {"var_name": "hfss"},
                "slp": {"var_name": "psl"},
                "sst": {"var_name": "ts"},
                # shortwave radiation computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # swr = rsds - rsus
                "swr": {"var_name": ["rsds", "rsus"], "algebric_calculation": ["plus", "minus"]},
                "taux": {"var_name": "tauu"},
                "tauy": {"var_name": "tauv"},
                # total heat flux computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # tfh = hfls + hfss + rlds - rlus + rsds - rsus
                "thf": {
                    "var_name": ["hfls", "hfss", "rlds", "rlus", "rsds", "rsus"],
                    "algebric_calculation": ["plus", "plus", "plus", "minus", "plus", "minus"],
                },
                "ts": {"var_name": "ts"},
            },
        },
        "CFSR": {
            "website": "https://esgf.nccs.nasa.gov/search/create-ip/",
            "file_name": "<var_name>" + "_?mon_reanalysis_CFSR_*.nc",
            "variable_name_in_file": {
                "lhf": {"var_name": "hfls"},
                # longwave radiation computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # lwr = rlds - rlus
                "lwr": {"var_name": ["rlds", "rlus"], "algebric_calculation": ["plus", "minus"]},
                "pr": {"var_name": "pr"},
                "shf": {"var_name": "hfss"},
                "slp": {"var_name": "psl"},
                "ssh": {"var_name": "zos"},
                "sst": {"var_name": "tos"},
                # shortwave radiation computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # swr = rsds - rsus
                "swr": {"var_name": ["rsds", "rsus"], "algebric_calculation": ["plus", "minus"]},
                "taux": {"var_name": "tauu"},
                "tauy": {"var_name": "tauv"},
                # total heat flux computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # tfh = hfls + hfss + rlds - rlus + rsds - rsus
                "thf": {
                    "var_name": ["hfls", "hfss", "rlds", "rlus", "rsds", "rsus"],
                    "algebric_calculation": ["plus", "plus", "plus", "minus", "plus", "minus"],
                },
            },
        },
        "C-GLORSv5": {
            "website": "https://hs.pangaea.de/model/C-GLORSv5",
            "file_name": "C-GLORSv5_" + "<var_name>" + "_????.nc",
            "variable_name_in_file": {
                "lhf": {"var_name": "latent_heatflux"},
                "lwr": {"var_name": "net_longwave_heatflux_downwards"},
                "shf": {"var_name": "sensible_heatflux"},
                "ssh": {"var_name": "sea_surface_height"},
                "sst": {"var_name": "sea_surface_temperature"},
                "swr": {"var_name": "net_surface_heatflux_downwards"},
                "taux": {"var_name": "zonal_wind_stress"},
                "tauy": {"var_name": "meridional_wind_stress"},
                "thf": {"var_name": "net_surface_heatflux_downwards"},
            },
        },
        "C-GLORSv7": {
            "website": "http://c-glors.cmcc.it/index/index-7.html?sec=7",
            "file_name": "NEMO_1m_" + "<var_name>" + "_????_r1x1.nc",
            "variable_name_in_file": {
                "lhf": {"var_name": "solatent"},
                "lwr": {"var_name": "solongwa"},
                "shf": {"var_name": "sosensib"},
                "ssh": {"var_name": "sossheig"},
                "sst": {"var_name": "sosstsst"},
                "swr": {"var_name": "soshfldo"},
                "taux": {"var_name": "sozotaux"},
                "tauy": {"var_name": "sometauy"},
                "thf": {"var_name": "sohefldo"},
            },
        },
        "CMAP": {
            "website": "https://www.esrl.noaa.gov/psd/data/gridded/data.cmap.html",
            "file_name": "<var_name>" + ".mon.mean.nc",
            "variable_name_in_file": {
                "landmask": {"var_name": "lsmask"},
                "pr": {"var_name": "precip"},
            },
        },
        "COBE": {
            "website": "https://psl.noaa.gov/data/gridded/data.cobe.html",
            "file_name": "<var_name>" + ".mon.mean.nc",
            "variable_name_in_file": {
                "sst": {"var_name": "sst"},
            },
        },
        "COBE2": {
            "website": "https://psl.noaa.gov/data/gridded/data.cobe2.html",
            "file_name": "<var_name>" + ".mon.mean.nc",
            "variable_name_in_file": {
                "sst": {"var_name": "sst"},
            },
        },
        "CSIRO_SSH": {
            "website": "https://research.csiro.au/slrwavescoast/sea-level/measurements-and-data/sea-level-data/",
            "file_name": "jb_iby_srn_gtn_giy.nc",
            "variable_name_in_file": {"ssh": {"var_name": "height"}, },
        },
        "EMOD_yyp": {
            "file_name": "<var_name>" + "_?mon_EMOD_yyp_1x1deg_198201-2010*.nc",
            "variable_name_in_file": {
                "lhf": {"var_name": "lhf"},
                "lwr": {"var_name": "lwr"},
                "pr": {"var_name": "pr"},
                "shf": {"var_name": "shf"},
                "slp": {"var_name": "slp"},
                "ssh": {"var_name": "ssh"},
                "sst": {"var_name": "sst"},
                "swr": {"var_name": "swr"},
                "taux": {"var_name": "taux"},
                "tauy": {"var_name": "tauy"},
                "thf": {"var_name": "thf"},
                "ts": {"var_name": "ts"},
            },
        },
        "ERA-20C": {
            "website": "https://apps.ecmwf.int/datasets/data/era20c-edmo/levtype=sfc/",
            "file_name": "*.nc",
            "variable_name_in_file": {
                "landmask": {"var_name": "lsm"},
                "slp": {"var_name": "msl"},
                "sst": {"var_name": "ts"},
                "taux": {"var_name": "tauu"},
                "tauy": {"var_name": "tauv"},
                "ts": {"var_name": "ts"},
            },
        },
        "ERA-20CM": {
            "website": "https://apps.ecmwf.int/datasets/data/era20cm-edmo/levtype=sfc/",
            "file_name": "*.nc",
            "variable_name_in_file": {
                "landmask": {"var_name": "lsm"},
                "lhf": {"var_name": "hfls"},
                "lwr": {"var_name": "rls"},
                "pr": {"var_name": "pr"},
                "shf": {"var_name": "hfss"},
                "slp": {"var_name": "msl"},
                "sst": {"var_name": "ts"},
                "swr": {"var_name": "rss"},
                "taux": {"var_name": "tauu"},
                "tauy": {"var_name": "tauv"},
                # total heat flux computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # tfh = hfls + hfss + rls + rss
                "thf": {
                    "var_name": ["hfls", "hfss", "rls", "rss"],
                    "algebric_calculation": ["plus", "plus", "plus", "plus"],
                },
                "ts": {"var_name": "ts"},
            },
        },
        "ERA-Interim": {
            "website": "https://esgf.nccs.nasa.gov/search/create-ip/",
            "file_name": "<var_name>" + "_Amon_reanalysis_IFS-Cy31r2_*.nc",
            "variable_name_in_file": {
                "landmask": {"var_name": "lsmask"},
                "lhf": {"var_name": "hfls"},
                # longwave radiation computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # lwr = rlds - rlus
                "lwr": {"var_name": ["rlds", "rlus"], "algebric_calculation": ["plus", "minus"]},
                "pr": {"var_name": "pr"},
                "shf": {"var_name": "hfss"},
                "slp": {"var_name": "psl"},
                "sst": {"var_name": "ts"},
                # shortwave radiation computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # swr = rsds - rsus
                "swr": {"var_name": ["rsds", "rsus"], "algebric_calculation": ["plus", "minus"]},
                "taux": {"var_name": "tauu"},
                "tauy": {"var_name": "tauv"},
                # total heat flux computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # tfh = hfls + hfss + rlds - rlus + rsds - rsus
                "thf": {
                    "var_name": ["hfls", "hfss", "rlds", "rlus", "rsds", "rsus"],
                    "algebric_calculation": ["plus", "plus", "plus", "minus", "plus", "minus"],
                },
                "ts": {"var_name": "ts"},
            },
        },
        "ERA5": {
            "website": "https://cds.climate.copernicus.eu/cdsapp#!/dataset/reanalysis-era5-single-levels-monthly-" +
                       "means?tab=form",
            "file_name": "*" + "<var_name>" + "*.nc",
            "variable_name_in_file": {
                "landmask": {"var_name": "lsm"},
                "lhf": {"var_name": "hfls"},
                "lwr": {"var_name": "rls"},
                "pr": {"var_name": "pr"},
                "shf": {"var_name": "hfss"},
                "slp": {"var_name": "psl"},
                "sst": {"var_name": "ts"},
                "swr": {"var_name": "rss"},
                "taux": {"var_name": "tauu"},
                "tauy": {"var_name": "tauv"},
                # total heat flux computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # tfh = hfls + hfss + rls + rss
                "thf": {
                    "var_name": ["hfls", "hfss", "rls", "rss"],
                    "algebric_calculation": ["plus", "plus", "plus", "plus"],
                },
                "ts": {"var_name": "ts"},
            },
        },
        "ERSSTv3b": {
            "website": "https://psl.noaa.gov/data/gridded/data.noaa.ersst.v3.html",
            "file_name": "<var_name>" + ".mnmean.v3.nc",
            "variable_name_in_file": {
                "sst": {"var_name": "sst"},
            },
        },
        "ERSSTv4": {
            "website": "https://psl.noaa.gov/data/gridded/data.noaa.ersst.v4.html",
            "file_name": "<var_name>" + ".mnmean.v4.nc",
            "variable_name_in_file": {
                "sst": {"var_name": "sst"},
            },
        },
        "ERSSTv5": {
            "website": "https://psl.noaa.gov/data/gridded/data.noaa.ersst.v5.html",
            "file_name": "<var_name>" + ".mnmean.nc",
            "variable_name_in_file": {
                "sst": {"var_name": "sst"},
            },
        },
        "GFDL-ECDAv3.1": {
            "website": "ftp://nomads.gfdl.noaa.gov/GFDL-CM2.1-ECDA/CM2.1R-ECDA-v3.1-1960/mon/ocean/dc_Omon/r1i1p1/" +
                       "v20110601/",
            "file_name": "ocean.196101-201912." + "<var_name>" + ".nc<",
            "variable_name_in_file": {
                "lhf": {"var_name": "evap_heat"},
                "lwr": {"var_name": "lw_heat"},
                "shf": {"var_name": "sens_heat"},
                "ssh": {"var_name": "eta_t"},
                "sst": {"var_name": "tos"},
                "swr": {"var_name": "swflx"},
                "taux": {"var_name": "tau_x"},
                "tauy": {"var_name": "tau_y"},
                # total heat flux computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # tfh = lhf + shf + lwr + swr
                "thf": {
                    "var_name": ["evap_heat", "sens_heat", "lw_heat", "swflx"],
                    "algebric_calculation": ["plus", "plus", "plus", "plus"],
                },
            },
        },
        "GODAS": {
            "website": "https://www.esrl.noaa.gov/psd/data/gridded/data.godas.html",
            "file_name": "<var_name>" + "_YYYY.nc",
            "variable_name_in_file": {
                "ssh": {"var_name": "sshg"},
                "sst": {"var_name": "sst"},
                "taux": {"var_name": "uflx"},
                "tauy": {"var_name": "vflx"},
                "thf": {"var_name": "thflx"},
            },
        },
        "GPCPv2.3": {
            "website": "https://www.esrl.noaa.gov/psd/cgi-bin/db_search/DBSearch.pl?Dataset=GPCP+Version+2.3+" +
                       "Combined+Precipitation+Dataset&group=0&submit=Search",
            "file_name": "precip.mon.mean.nc",
            "variable_name_in_file": {
                "landmask": {"var_name": "lsmask"},
                "pr": {"var_name": "precip"},
            },
        },
        "HadISST": {
            "website": "https://www.metoffice.gov.uk/hadobs/hadisst/data/download.html",
            "file_name": "HadISST_" + "<var_name>" + ".nc",
            "variable_name_in_file": {
                "sst": {"var_name": "sst"},
            },
        },
        "JPL_MEASURES": {
            "website": "https://podaac-opendap.jpl.nasa.gov/opendap/allData/merged_alt/L4/cdr_grid/",
            "file_name": "ssh_grids_v1812_????????12.nc",
            "variable_name_in_file": {"ssh": {"var_name": "SLA"}, },
        },
        "JRA-55": {
            "website": "https://esgf-node.llnl.gov/search/create-ip/",
            "file_name": "<var_name>" + "_Amon_reanalysis_JRA-55_*.nc",
            "variable_name_in_file": {
                # longwave radiation computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # lwr = rlds - rlus
                "lwr": {"var_name": ["rlds", "rlus"], "algebric_calculation": ["plus", "minus"]},
                "pr": {"var_name": "pr"},
                "slp": {"var_name": "psl"},
                "sst": {"var_name": "ts"},
                # shortwave radiation computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # swr = rsds - rsus
                "swr": {"var_name": ["rsds", "rsus"], "algebric_calculation": ["plus", "minus"]},
                "ts": {"var_name": "ts"},
            },
        },
        "MERRA": {
            "website": "https://esgf-node.llnl.gov/search/create-ip/",
            "file_name": "<var_name>" + "_Amon_reanalysis_MERRA_*.nc",
            "variable_name_in_file": {
                "lhf": {"var_name": "hfls"},
                # longwave radiation computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # lwr = rlds - rlus
                "lwr": {"var_name": ["rlds", "rlus"], "algebric_calculation": ["plus", "minus"]},
                "pr": {"var_name": "pr"},
                "shf": {"var_name": "hfss"},
                "slp": {"var_name": "psl"},
                "sst": {"var_name": "ts"},
                # shortwave radiation computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # swr = rsds - rsus
                "swr": {"var_name": ["rsds", "rsus"], "algebric_calculation": ["plus", "minus"]},
                "taux": {"var_name": "tauu"},
                "tauy": {"var_name": "tauv"},
                # total heat flux computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # tfh = hfls + hfss + rlds - rlus + rsds - rsus
                "thf": {
                    "var_name": ["hfls", "hfss", "rlds", "rlus", "rsds", "rsus"],
                    "algebric_calculation": ["plus", "plus", "plus", "minus", "plus", "minus"],
                },
                "ts": {"var_name": "ts"},
            },
        },
        "MERRA2": {
            "website": "https://esgf-node.llnl.gov/search/create-ip/",
            "file_name": "<var_name>" + "_Amon_reanalysis_MERRA2_*.nc",
            "variable_name_in_file": {
                "lhf": {"var_name": "hfls"},
                # longwave radiation computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # lwr = rlds - rlus
                "lwr": {"var_name": ["rlds", "rlus"], "algebric_calculation": ["plus", "minus"]},
                "pr": {"var_name": "pr"},
                "shf": {"var_name": "hfss"},
                "slp": {"var_name": "psl"},
                "sst": {"var_name": "ts"},
                # shortwave radiation computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # swr = rsds - rsus
                "swr": {"var_name": ["rsds", "rsus"], "algebric_calculation": ["plus", "minus"]},
                "taux": {"var_name": "tauu"},
                "tauy": {"var_name": "tauv"},
                # total heat flux computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # tfh = hfls + hfss + rlds - rlus + rsds - rsus
                "thf": {
                    "var_name": ["hfls", "hfss", "rlds", "rlus", "rsds", "rsus"],
                    "algebric_calculation": ["plus", "plus", "plus", "minus", "plus", "minus"],
                },
                "ts": {"var_name": "ts"},
            },
        },
        "MRE3reanalysis": {
            "website": "https://esgf-node.llnl.gov/search/create-ip/",
            "file_name": "<var_name>" + "_Amon_MRE3reanalysis_*.nc",
            "variable_name_in_file": {
                "lhf": {"var_name": "hfls"},
                # longwave radiation computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # lwr = rlds - rlus
                "lwr": {"var_name": ["rlds", "rlus"], "algebric_calculation": ["plus", "minus"]},
                "pr": {"var_name": "pr"},
                "shf": {"var_name": "hfss"},
                "slp": {"var_name": "psl"},
                "sst": {"var_name": "ts"},
                # shortwave radiation computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # swr = rsds - rsus
                "swr": {"var_name": ["rsds", "rsus"], "algebric_calculation": ["plus", "minus"]},
                # total heat flux computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # tfh = hfls + hfss + rlds - rlus + rsds - rsus
                "thf": {
                    "var_name": ["hfls", "hfss", "rlds", "rlus", "rsds", "rsus"],
                    "algebric_calculation": ["plus", "plus", "plus", "minus", "plus", "minus"],
                },
                "ts": {"var_name": "ts"},
            },
        },
        "NCEP1": {
            "website": "https://psl.noaa.gov/data/gridded/data.ncep.reanalysis.derived.html",
            "file_name": "<var_name>" + ".sfc.mon.mean.nc",
            "variable_name_in_file": {
                "landmask": {"var_name": "lsmask"},
                "lhf": {"var_name": "lhtfl"},
                # longwave radiation computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # lwr = dlwrf - ulwrf
                "lwr": {"var_name": ["dlwrf", "ulwrf"], "algebric_calculation": ["plus", "minus"]},
                "pr": {"var_name": "prate"},
                "shf": {"var_name": "shtfl"},
                "sst": {"var_name": "skt"},
                # shortwave radiation computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # swr = dswrf - uswrf
                "swr": {"var_name": ["dswrf", "uswrf"], "algebric_calculation": ["plus", "minus"]},
                "taux": {"var_name": "uflx"},
                "tauy": {"var_name": "vflx"},
                # total heat flux computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # tfh = lhtfl + shtfl + dlwrf - ulwrf + dswrf - uswrf
                "thf": {
                    "var_name": ["lhtfl", "shtfl", "dlwrf", "ulwrf", "dswrf", "uswrf"],
                    "algebric_calculation": ["plus", "plus", "plus", "minus", "plus", "minus"],
                },
                "ts": {"var_name": "skt"},
            },
        },
        "NCEP2": {
            "website": "https://www.esrl.noaa.gov/psd/data/gridded/data.ncep.reanalysis2.gaussian.html",
            "file_name": "<var_name>" + ".sfc.mon.mean.nc",
            "variable_name_in_file": {
                "landmask": {"var_name": "land"},
                "lhf": {"var_name": "lhtfl"},
                # longwave radiation computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # lwr = dlwrf - ulwrf
                "lwr": {"var_name": ["dlwrf", "ulwrf"], "algebric_calculation": ["plus", "minus"]},
                "pr": {"var_name": "prate"},
                "shf": {"var_name": "shtfl"},
                "sst": {"var_name": "skt"},
                # shortwave radiation computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # swr = dswrf - uswrf
                "swr": {"var_name": ["dswrf", "uswrf"], "algebric_calculation": ["plus", "minus"]},
                "taux": {"var_name": "uflx"},
                "tauy": {"var_name": "vflx"},
                # total heat flux computed from these variables IN THAT ORDER (on ocean grid or ocean points only)
                # tfh = lhtfl + shtfl + dlwrf - ulwrf + dswrf - uswrf
                "thf": {
                    "var_name": ["lhtfl", "shtfl", "dlwrf", "ulwrf", "dswrf", "uswrf"],
                    "algebric_calculation": ["plus", "plus", "plus", "minus", "plus", "minus"],
                },
                "ts": {"var_name": "skt"},
            },
        },
        "OAFlux": {
            "website": "ftp://ftp.whoi.edu/pub/science/oaflux/data_v3/monthly/turbulence/",
            "file_name": "<var_name>" + "_oaflux_*.nc",
            "variable_name_in_file": {
                "lhf": {"var_name": "lhtfl"},
                "shf": {"var_name": "shtfl"},
                "sst": {"var_name": "tmpsf"},
            },
        },
        "OISSTv2": {
            "website": "https://psl.noaa.gov/data/gridded/data.noaa.oisst.v2.html",
            "file_name": "<var_name>" + ".mnmean.nc",
            "variable_name_in_file": {
                "landmask": {"var_name": "mask"},
                "sst": {"var_name": "sst"},
            },
        },
        "ORAS4": {
            "website": "https://esgf.nccs.nasa.gov/search/create-ip/",
            "file_name": "<var_name>" + "_Omon_ORAreanalysis_ORAS4_*.nc",
            "variable_name_in_file": {
                "ssh": {"var_name": "zos"},
                "sst": {"var_name": "sst"},
            },
        },
        "ORAS5": {
            "website": "https://www.ecmwf.int/en/forecasts/dataset/ocean-reanalysis-system-5",
            "file_name": "*.nc",
            "variable_name_in_file": {
                "ssh": {"var_name": "sossheig"},
                "sst": {"var_name": "sosstsst"},
                "taux": {"var_name": "sozotaux"},
                "tauy": {"var_name": "sometauy"},
                "thf": {"var_name": "sohefldo"},
            },
        },
        "SODA3.3.2": {
            "website": "https://www2.atmos.umd.edu/~ocean/index_files/soda3.3.2_mn_download.htm",
            "file_name": "soda3.3.2_mn_ocean_reg_????.nc",
            "variable_name_in_file": {
                "ssh": {"var_name": "ssh"},
                "sst": {"var_name": "sst"},
                "taux": {"var_name": "taux"},
                "tauy": {"var_name": "tauy"},
                "thf": {"var_name": "net_heating"},
            },
        },
        "SODA3.4.2": {
            "website": "https://www.atmos.umd.edu/~ocean/index_files/soda3.4.2_mn_download_b.htm",
            "file_name": "soda3.4.2_mn_ocean_reg_????.nc",
            "variable_name_in_file": {
                "ssh": {"var_name": "ssh"},
                "sst": {"var_name": "sst"},
                "taux": {"var_name": "taux"},
                "tauy": {"var_name": "tauy"},
                "thf": {"var_name": "net_heating"},
            },
        },
        "SODA3.11.2": {
            "website": "https://www2.atmos.umd.edu/~ocean/index_files/soda3.11.2_mn_download.htm",
            "file_name": "soda3.11.2_mn_ocean_reg_????.nc",
            "variable_name_in_file": {
                "ssh": {"var_name": "ssh"},
                "sst": {"var_name": "sst"},
                "taux": {"var_name": "taux"},
                "tauy": {"var_name": "tauy"},
                "thf": {"var_name": "net_heating"},
            },
        },
        "SODA3.12.2": {
            "website": "https://www2.atmos.umd.edu/~ocean/index_files/soda3.12.2_mn_download.htm",
            "file_name": "soda3.12.2_mn_ocean_reg_????.nc",
            "variable_name_in_file": {
                "ssh": {"var_name": "ssh"},
                "sst": {"var_name": "sst"},
                "taux": {"var_name": "taux"},
                "tauy": {"var_name": "tauy"},
                "thf": {"var_name": "net_heating"},
            },
        },
        "Tropflux": {
            "website": "https://incois.gov.in/tropflux/tf_products.jsp",
            "file_name": "<var_name>" + "_tropflux_1m_*.nc",
            "variable_name_in_file": {
                "lhf": {"var_name": "lhf"},
                "lwr": {"var_name": "lwr"},
                "shf": {"var_name": "shf"},
                "sst": {"var_name": "sst"},
                "swr": {"var_name": "swr"},
                "taux": {"var_name": "taux"},
                "tauy": {"var_name": "tauy"},
                "thf": {"var_name": "netflux"},
            },
        },
    }
    if dataset is True:
        return dict_ref_obs
    else:
        return dict_ref_obs[dataset]


def ReferenceRegions(region=True):
    dict_reference_regions = {
        "global": {"long_name": "Global 60S-60N", "latitude": (-60., 60.), "longitude": (0., 360.)},
        "global2": {"long_name": "Global", "latitude": (-90., 90.), "longitude": (0., 360.)},
        "tropical_pacific": {
            "long_name": "Tropical Pacific (TP)", "latitude": (-30., 30.), "longitude": (120., 280.),
        },
        "equatorial_pacific": {
            "long_name": "Equatorial Pacific (EP)", "latitude": (-5., 5.), "longitude": (150., 270.),
        },
        "equatorial_pacific_LonExt": {
            "long_name": "Equatorial Pacific extended in longitude", "latitude": (-5., 5.), "longitude": (140., 280.),
        },
        "equatorial_pacific_LatExt": {
            "long_name": "Equatorial Pacific (EP)", "latitude": (-15., 15.), "longitude": (150., 270.),
        },
        "equatorial_pacific_LatExt2": {
            "long_name": "Equatorial Pacific extended in latitude", "latitude": (-15., 15.), "longitude": (120., 285.),
        },
        "eastern_equatorial_pacific": {
            "long_name": "Eastern Equatorial Pacific (EEP)", "latitude": (-5., 5.), "longitude": (205., 280.),
        },
        "grad_east": {
            "long_name": "Eastern Tropical Pacific", "latitude": (-8, 8), "longitude": (205., 280.),
        },
        "grad_equ": {
            "long_name": "Eastern Near-Equatorial Pacific", "latitude": (-2.5, 2.5), "longitude": (210., 270.),
        },
        "grad_off": {
            "long_name": "Eastern Off-Equatorial Pacific", "latitude": (5., 10.), "longitude": (210., 270.),
        },
        "grad_west": {
            "long_name": "Western Tropical Pacific", "latitude": (-8, 8), "longitude": (130., 205.),
        },
        "western_equatorial_pacific": {
            "long_name": "Western Equatorial Pacific (WEP)", "latitude": (-5., 5.), "longitude": (120., 205.),
        },
        "nino1+2": {"long_name": "Niño 1+2", "latitude": (-10., 0.), "longitude": (270., 280.)},
        "nino3": {"long_name": "Niño 3", "latitude": (-5., 5.), "longitude": (210., 270.)},
        "nino3_LatExt": {
            "long_name": "Niño 3 extended in latitude", "latitude": (-15., 15.), "longitude": (210., 270.)
        },
        "nino3.4": {"long_name": "Niño 3.4", "latitude": (-5., 5.), "longitude": (190., 240.)},
        "nino4": {"long_name": "Niño 4", "latitude": (-5., 5.), "longitude": (160., 210.)},
        # IPCC climate reference regions defined in Iturbide et al. (2020; https://doi.org/10.5194/essd-12-2959-2020)
        "GIC": {
            "long_name": "POLAR, Land, Greenland / Iceland", "polygon": True, "maskland": False, "maskocean": True,
            "latitude": (62.0, 62.0, 58.0, 58.0, 85.0, 85.0), "longitude": (350.0, 322.0, 318.0, 310.0, 278.0, 350.0)},
        "NWN": {"long_name": "NORTH - AMERICA, Land, N.W.North - America", "maskland": False, "maskocean": True,
                "latitude": (50.0, 50.0, 58.0, 52.5, 72.6, 72.6, 77.6, 81.0), "polygon": True,
                "longitude": (255.0, 230.0, 217.0, 192.0, 192.0, 231.0, 235.0, 255.0)},
        "NEN": {"long_name": "NORTH - AMERICA, Land, N.E.North - America", "maskland": False, "maskocean": True,
                "latitude": (50.0, 58.0, 85.0, 81.0, 50.0), "polygon": True,
                "longitude": (310.0, 310.0, 278.0, 255.0, 255.0)},
        "WNA": {"long_name": "NORTH - AMERICA, Land, W.North - America", "maskland": False, "maskocean": True,
                "latitude": (50.0, 33.8, 33.8, 50.0), "longitude": (230.0, 237.5, 255.0, 255.0), "polygon": True},
        "CNA": {"long_name": "NORTH - AMERICA, Land, C.North - America", "maskland": False, "maskocean": True,
                "latitude": (50.0, 25.0, 33.8, 50.0), "longitude": (270.0, 270.0, 255.0, 255.0), "polygon": True},
        "ENA": {"long_name": "NORTH - AMERICA, Land, E.North - America", "maskland": False, "maskocean": True,
                "latitude": (25.0, 25.0, 50.0, 50.0, 31.0), "polygon": True,
                "longitude": (290.0, 270.0, 270.0, 310.0, 283.0)},
        "NCA": {"long_name": "CENTRAL - AMERICA, Land, N.Central - America", "maskland": False, "maskocean": True,
                "latitude": (25.0, 16.0, 33.8, 33.8), "longitude": (270.0, 255.5, 237.5, 255.0), "polygon": True},
        "SCA": {"long_name": "CENTRAL - AMERICA, Land, S.Central - America", "maskland": False, "maskocean": True,
                "latitude": (12.0, 2.2, 16.0, 25.0), "longitude": (285.0, 276.6, 255.5, 270.0), "polygon": True},
        "CAR_L": {"long_name": "CENTRAL - AMERICA, Land - Ocean, Caribbean", "maskland": False, "maskocean": True,
                  "latitude": (12.0, 25.0, 25.0, 12.0), "longitude": (285.0, 270.0, 290.0, 305.0), "polygon": True},
        "CAR_O": {"long_name": "CENTRAL - AMERICA, Land - Ocean, Caribbean", "maskland": True, "maskocean": False,
                  "latitude": (12.0, 25.0, 25.0, 12.0), "longitude": (285.0, 270.0, 290.0, 305.0), "polygon": True},
        "NWS": {"long_name": "SOUTH - AMERICA, Land, N.W.South - America", "maskland": False, "maskocean": True,
                "latitude": (12.0, 2.2, -10.0, -15.0, -15.0, 12.0), "polygon": True,
                "longitude": (285.0, 276.6, 276.6, 281.0, 288.0, 288.0)},
        "NSA": {"long_name": "SOUTH - AMERICA, Land, N.South - America", "maskland": False, "maskocean": True,
                "latitude": (12.0, -8.0, -8.0, 7.6, 12.0), "polygon": True,
                "longitude": (288.0, 288.0, 310.0, 310.0, 305.0)},
        "NES": {"long_name": "SOUTH - AMERICA, Land, N.E.South - America", "maskland": False, "maskocean": True,
                "latitude": (-20.0, -20.0, 0.0, 0.0), "longitude": (-34.0, -50.0, -50.0, -34.0), "polygon": True},
        "SAM": {"long_name": "SOUTH - AMERICA, Land, South - American - Monsoon", "maskland": False, "maskocean": True,
                "latitude": (-20.0, -15.0, -8.0, -8.0, -20.0), "polygon": True,
                "longitude": (293.6, 288.0, 288.0, 310.0, 310.0)},
        "SWS": {"long_name": "SOUTH - AMERICA, Land, S.W.South - America", "maskland": False, "maskocean": True,
                "latitude": (-15.0, -20.0, -47.0, -47.0, -20.0, -15.0), "polygon": True,
                "longitude": (288.0, 293.6, 288.5, 281.0, 285.4, 281.0)},
        "SES": {"long_name": "SOUTH - AMERICA, Land, S.E.South - America", "maskland": False, "maskocean": True,
                "latitude": (-20.0, -40.0, -40.0, -20.0), "longitude": (326.0, 304.0, 289.8, 293.6), "polygon": True},
        "SSA": {"long_name": "SOUTH - AMERICA, Land, S.South - America", "maskland": False, "maskocean": True,
                "latitude": (-56.0, -47.0, -47.0, -40.0, -40.0, -56.0),
                "longitude": (281.0, 281.0, 288.5, 289.8, 304.0, 304.0), "polygon": True},
        "NEU": {"long_name": "EUROPE, Land, N.Europe", "polygon": True, "maskland": False, "maskocean": True,
                "latitude": (48.0, 72.6, 72.6, 61.3), "longitude": (-10.0, -10.0, 40.0, 40.0)},
        "WCE": {"long_name": "EUROPE, Land, West & Central - Europe", "maskland": False, "maskocean": True,
                "latitude": (45.0, 48.0, 61.3, 45.0), "longitude": (-10.0, -10.0, 40.0, 40.0), "polygon": True},
        "EEU": {"long_name": "EUROPE, Land, E.Europe", "polygon": True, "maskland": False, "maskocean": True,
                "latitude": (45.0, 45.0, 65.0, 65.0), "longitude": (40.0, 60.0, 60.0, 40.0)},
        "MED_L": {"long_name": "EUROPE - AFRICA, Land - Ocean, Mediterranean", "maskland": False, "maskocean": True,
                  "latitude": (30.0, 45.0, 45.0, 30.0), "longitude": (-10.0, -10.0, 40.0, 40.0), "polygon": True},
        "MED_O": {"long_name": "EUROPE - AFRICA, Land - Ocean, Mediterranean", "maskland": True, "maskocean": False,
                  "latitude": (30.0, 45.0, 45.0, 30.0), "longitude": (-10.0, -10.0, 40.0, 40.0), "polygon": True},
        "SAH": {"long_name": "AFRICA, Land, Sahara", "polygon": True, "maskland": False, "maskocean": True,
                "latitude": (14.7, 30.0, 30.0, 14.7), "longitude": (-20.0, -20.0, 33.0, 42.1)},
        "WAF": {"long_name": "AFRICA, Land, Western - Africa", "polygon": True, "maskland": False, "maskocean": True,
                "latitude": (7.6, 14.7, 14.7, 0.0), "longitude": (-20.0, -20.0, 15.0, 8.0)},
        "CAF": {"long_name": "AFRICA, Land, Central - Africa", "polygon": True, "maskland": False, "maskocean": True,
                "latitude": (-10.0, 0.0, 14.7, 14.7, -10.0), "longitude": (8.0, 8.0, 15.0, 27.0, 27.0)},
        "NEAF": {"long_name": "AFRICA, Land, N.Eastern - Africa", "polygon": True, "maskland": False, "maskocean": True,
                 "latitude": (2.3, 14.7, 14.7, 12.0, 15.0, 7.0, 2.3),
                 "longitude": (27.0, 27.0, 42.1, 43.7, 53.0, 53.0, 46.5)},
        "SEAF": {"long_name": "AFRICA, Land, S.Eastern - Africa", "maskland": False, "maskocean": True,
                 "latitude": (-10.0, -10.0, 2.3, 2.3), "longitude": (27.0, 46.5, 46.5, 27.0), "polygon": True},
        "WSAF": {"long_name": "AFRICA, Land, W.Southern - Africa", "maskland": False, "maskocean": True,
                 "latitude": (-36.0, -36.0, -10.0, -10.0), "longitude": (8.0, 25.0, 25.0, 8.0), "polygon": True},
        "ESAF": {"long_name": "AFRICA, Land, E.Southern - Africa", "maskland": False, "maskocean": True,
                 "latitude": (-10.0, -36.0, -36.0, -10.0), "longitude": (25.0, 25.0, 31.0, 46.5), "polygon": True},
        "MDG": {"long_name": "AFRICA, Land, Madagascar", "polygon": True, "maskland": False, "maskocean": True,
                "latitude": (-27.0, -10.0, -10.0, -27.0), "longitude": (36.2, 46.5, 53.0, 53.0)},
        "RAR": {"long_name": "ASIA, Land, Russian - Arctic", "polygon": True, "maskland": False, "maskocean": True,
                "latitude": (65.0, 72.6, 82.0, 72.6, 65.0), "longitude": (40.0, 40.0, 94.0, 192.0, 192.0)},
        "WSB": {"long_name": "ASIA, Land, W.Siberia", "polygon": True, "maskland": False, "maskocean": True,
                "latitude": (45.0, 45.0, 65.0, 65.0), "longitude": (60.0, 90.0, 90.0, 60.0)},
        "ESB": {"long_name": "ASIA, Land, E.Siberia", "polygon": True, "maskland": False, "maskocean": True,
                "latitude": (45.0, 45.0, 65.0, 65.0), "longitude": (90.0, 130.0, 130.0, 90.0)},
        "RFE": {"long_name": "ASIA, Land, Russian - Far - East", "polygon": True, "maskland": False, "maskocean": True,
                "latitude": (45.0, 65.0, 65.0, 59.9, 50.0, 45.0),
                "longitude": (130.0, 130.0, 180.0, 180.0, 157.0, 152.0)},
        "WCA": {"long_name": "ASIA, Land, W.C.Asia", "polygon": True, "maskland": False, "maskocean": True,
                "latitude": (30.0, 45.0, 45.0, 30.0, 30.0, 23.5, 30.0),
                "longitude": (40.0, 40.0, 75.0, 75.0, 60.0, 60.0, 47.6)},
        "ECA": {"long_name": "ASIA, Land, E.C.Asia", "polygon": True, "maskland": False, "maskocean": True,
                "latitude": (37.0, 45.0, 45.0, 37.0), "longitude": (75.0, 75.0, 117.0, 108.0)},
        "TIB": {"long_name": "ASIA, Land, Tibetan - Plateau", "polygon": True, "maskland": False, "maskocean": True,
                "latitude": (30.0, 37.0, 37.0, 30.0, 26.0), "longitude": (75.0, 75.0, 100.0, 100.0, 88.0)},
        "EAS": {"long_name": "ASIA, Land, E.Asia", "polygon": True, "maskland": False, "maskocean": True,
                "latitude": (19.5, 37.0, 37.0, 45.0, 45.0, 25.0, 19.5),
                "longitude": (100.0, 100.0, 108.0, 117.0, 152.0, 132.0, 132.0)},
        "ARP": {"long_name": "ASIA, Land, Arabian - Peninsula", "polygon": True, "maskland": False, "maskocean": True,
                "latitude": (30.0, 30.0, 23.5, 19.5, 15.0, 12.0), "longitude": (33.0, 47.6, 60.0, 60.0, 53.0, 43.7)},
        "SAS": {"long_name": "ASIA, Land, S.Asia", "polygon": True, "maskland": False, "maskocean": True,
                "latitude": (23.5, 30.0, 30.0, 26.0, 30.0, 19.5, 19.5, 19.5, 7.0, 7.0, 19.5, 23.5),
                "longitude": (60.0, 60.0, 75.0, 88.0, 100.0, 100.0, 95.0, 87.0, 79.0, 76.0, 70.0, 66.5)},
        "SEA_L": {"long_name": "ASIA, Land - Ocean, S.E.Asia", "polygon": True, "maskland": False, "maskocean": True,
                  "latitude": (-10.0, 19.5, 19.5, 5.0, -10.0), "longitude": (93.0, 93.0, 132.0, 132.0, 155.0)},
        "SEA_O": {"long_name": "ASIA, Land - Ocean, S.E.Asia", "polygon": True, "maskland": True, "maskocean": False,
                  "latitude": (-10.0, 19.5, 19.5, 5.0, -10.0), "longitude": (93.0, 93.0, 132.0, 132.0, 155.0)},
        "NAU": {"long_name": "OCEANIA, Land, N.Australia", "polygon": True, "maskland": False, "maskocean": True,
                "latitude": (-20.0, -10.0, -10.0, -20.0), "longitude": (110.0, 110.0, 155.0, 155.0)},
        "CAU": {"long_name": "OCEANIA, Land, C.Australia", "polygon": True, "maskland": False, "maskocean": True,
                "latitude": (-30.0, -20.0, -20.0, -32.9, -30.0), "longitude": (110.0, 110.0, 145.5, 145.5, 140.0)},
        "EAU": {"long_name": "OCEANIA, Land, E.Australia", "polygon": True, "maskland": False, "maskocean": True,
                "latitude": (-32.9, -20.0, -20.0, -38.0), "longitude": (145.5, 145.5, 155.0, 155.0)},
        "SAU": {"long_name": "OCEANIA, Land, S.Australia", "polygon": True, "maskland": False, "maskocean": True,
                "latitude": (-36.0, -30.0, -30.0, -38.0, -50.0), "longitude": (110.0, 110.0, 140.0, 155.0, 155.0)},
        "NZ": {"long_name": "OCEANIA, Land, New - Zealand", "polygon": True, "maskland": False, "maskocean": True,
               "latitude": (-50.0, -30.0, -30.0, -50.0), "longitude": (155.0, 155.0, 180.0, 180.0)},
        "EAN": {"long_name": "POLAR, Land, E.Antarctica", "polygon": True, "maskland": False, "maskocean": True,
                "latitude": (-90.0, -83.0, -83.0, -75.0, -75.0, -64.0, -64.0, -90.0),
                "longitude": (-180.0, -180.0, -56.0, -56.0, -25.0, 5.0, 180.0, 180.0)},
        "WAN": {"long_name": "POLAR, Land, W.Antarctica", "polygon": True, "maskland": False, "maskocean": True,
                "latitude": (-83.0, -70.0, -70.0, -62.0, -62.0, -83.0),
                "longitude": (180.0, 180.0, 280.0, 295.0, 304.0, 304.0)},
        "ARO": {"long_name": "ARCTIC, Ocean, Arctic - Ocean", "polygon": True, "maskland": True, "maskocean": False,
                "latitude": (90.0, 73.8, 72.6, 72.6, 77.6, 85.0, 85.0, 72.6, 72.6, 82.0, 73.8, 90.0),
                "longitude": (-180.0, -180.0, -168.0, -129.0, -125.0 , -82.0, -10.0, -10.0, 40.0, 94.0, 180.0, 180.0)},
        "NPO": {"long_name": "PACIFIC, Ocean, N.Pacific - Ocean", "polygon": True, "maskland": True, "maskocean": False,
                "latitude": (7.6, 25.0, 50.0, 59.9, 65.0, 65.0, 52.5, 58.0, 50.0, 33.8, 16.0, 7.6),
                "longitude": (132.0, 132.0, 157.0, 180.0, 180.0, 192.0, 192.0, 217.0, 230.0, 237.5, 255.5, 268.3)},
        "EPO": {"long_name": "PACIFIC, Ocean, Equatorial.Pacific - Ocean", "maskland": True, "maskocean": False,
                "latitude": (-10.0, 5.0, 7.6, 7.6, 2.2, -10.0), "polygon": True,
                "longitude": (155.0, 132.0, 132.0, 268.3, 276.6, 276.6)},
        "SPO": {"long_name": "PACIFIC, Ocean, S.Pacific - Ocean", "polygon": True, "maskland": True, "maskocean": False,
                "latitude": (-30.0, -10.0, -10.0, -20.0, -47.0, -56.0, -56.0, -30.0),
                "longitude": (155.0, 155.0, 276.6, 284.4, 281.0, 281.0, 180.0, 180.0)},
        "NAO": {"long_name": "ATLANTIC, Ocean, N.Atlantic - Ocean", "maskland": True, "maskocean": False,
                "latitude": (7.6, 31.0, 50.0, 58.0, 58.0, 62.0, 62.0, 30.0, 30.0, 7.6), "polygon": True,
                "longitude": (310.0, 283.0, 310.0, 310.0, 312.0, 322.0, 350.0, 350.0, 340.0, 340.0)},
        "EAO": {"long_name": "ATLANTIC, Ocean, Equatorial.Atlantic - Ocean", "maskland": True, "maskocean": False,
                "latitude": (-10.0, 0.0, 0.0, 7.6, 7.6, 0.0, -10.0), "polygon": True,
                "longitude": (-34.0, -34.0, -50.0, -50.0, -20.0, 8.0, 8.0)},
        "SAO": {"long_name": "ATLANTIC, Ocean, S.Atlantic - Ocean", "maskland": True, "maskocean": False,
                "latitude": (-56.0, -40.0, -20.0, -10.0, -10.0, -36.0), "polygon": True,
                "longitude": (-56.0, -56.0, -34.0, -34.0, 8.0, 8.0)},
        "ARS": {"long_name": "INDIAN, Ocean, Arabian - Sea", "polygon": True, "maskland": True, "maskocean": False,
                "latitude": (7.0, 15.0, 19.5, 23.5, 23.5, 19.5, 7.0),
                "longitude": (53.0, 53.0, 60.0, 60.0, 66.5, 70.0, 76.0)},
        "BOB": {"long_name": "INDIAN, Ocean, Bay - of - Bengal", "polygon": True, "maskland": True, "maskocean": False,
                "latitude": (7.0, 19.5, 19.5, 7.0), "longitude": (79.0, 87.0, 93.0, 93.0)},
        "EIO": {"long_name": "INDIAN, Ocean, Equatorial.Indic - Ocean", "maskland": True, "maskocean": False,
                "latitude": (-10.0, 2.3, 7.0, 7.0, -10.0), "polygon": True,
                "longitude": (46.5, 46.5, 53.0, 93.0, 93.0)},
        "SIO": {"long_name": "INDIAN, Ocean, S.Indic - Ocean", "polygon": True, "maskland": True, "maskocean": False,
                "latitude": (-27.0, -27.0, -10.0, -10.0, -36.0, -36.0),
                "longitude": (36.2, 53.0, 53.0, 110.0, 110.0, 31.0)},
        "SOO": {"long_name": "SOUTHERN, Ocean, Southern - Ocean", "polygon": True, "maskland": True, "maskocean": False,
                "latitude":
                    (-56.0, -70.0, -70.0, -62.0, -62.0, -75.0, -75.0, -64.0, -64.0, -50.0, -50, -36.0, -36.0, -56.0),
                "longitude":
                    (-180.0, -180.0, -80.0, -65.0, -56.0, -56.0, -25.0, 5.0, 180.0, 180.0, 155.0, 110.0, 8.0, -56.0)},
        # # IPCC SREX modified by Perry et al. (2020; https://doi.org/10.1007/s00382-019-05006-6)
        # "ALA": {"long_name": "Alaska/N.W. Canada", "polygon": False, "maskland": False, "maskocean": True,
        #         "latitude": (60., 72.6), "longitude": (192., 255.)},
        # "AMZ": {"long_name": "Amazon", "polygon": True, "maskland": False, "maskocean": True,
        #         "latitude": (-20., -1.2, 11.4, 11.4, -20.), "longitude": (293.6, 280.3, 291.2, 310., 310.)},
        # "CAM": {"long_name": "Central America/Mexico", "polygon": True, "maskland": False, "maskocean": True,
        #         "latitude": (11.4, -1.2, 25., 25.), "longitude": (291.2, 280.3, 241.7, 269.7)},
        # "EAF": {"long_name": "East Africa", "polygon": False, "maskland": False, "maskocean": True,
        #         "latitude": (-11.4, 15.), "longitude": (25., 52.)},
        # "EAS": {"long_name": "East Asia", "polygon": False, "maskland": False, "maskocean": True,
        #         "latitude": (20., 50.), "longitude": (100., 145.)},
        # "ERU": {"long_name": "East Russia", "polygon": False, "maskland": False, "maskocean": True,
        #         "latitude": (50., 75.), "longitude": (130., 190.)},
        # "CGI": {"long_name": "Canada Greenland Iceland", "polygon": False, "maskland": False, "maskocean": True,
        #         "latitude": (60., 85.), "longitude": (255., 350.)},
        # "NEB": {"long_name": "North-East Brazil", "polygon": False, "maskland": False, "maskocean": True,
        #         "latitude": (-20., 0.), "longitude": (310., 326.)},
        # "NAU": {"long_name": "North Australia", "polygon": False, "maskland": False, "maskocean": True,
        #         "latitude": (-30., -10.), "longitude": (110., 155.)},
        # "NNA": {"long_name": "Northern North America", "polygon": False, "maskland": False, "maskocean": True,
        #         "latitude": (40., 60.), "longitude": (230., 300.)},
        # "NZE": {"long_name": "New Zealand", "polygon": False, "maskland": False, "maskocean": True,
        #         "latitude": (-50., -30.), "longitude": (165., 180.)},
        # "SAF": {"long_name": "Southern Africa", "polygon": False, "maskland": False, "maskocean": True,
        #         "latitude": (-35., -11.4), "longitude": (0., 52.)},
        # "SAH": {"long_name": "Sahara", "polygon": False, "maskland": False, "maskocean": True,
        #         "latitude": (15., 30.), "longitude": (340., 400.)},
        # "SAS": {"long_name": "South Asia", "polygon": True, "maskland": False, "maskocean": True,
        #         "latitude": (5., 30., 30., 20., 20., 5.), "longitude": (60., 60., 100., 100., 95., 95.)},
        # "SAU": {"long_name": "South Australia", "polygon": False, "maskland": False, "maskocean": True,
        #         "latitude": (-50., -30.), "longitude": (110., 155.)},
        # "SEA": {"long_name": "South East Asia", "polygon": False, "maskland": False, "maskocean": True,
        #         "latitude": (-10., 20.), "longitude": (95., 155.)},
        # "SNA": {"long_name": "Southern North America", "polygon": False, "maskland": False, "maskocean": True,
        #         "latitude": (25., 40.), "longitude": (230., 300.)},
        # "SSA": {"long_name": "Southeastern South America", "polygon": True, "maskland": False, "maskocean": True,
        #         "latitude": (-20., -56.7, -56.7, -50., -20.), "longitude": (320.6, 320.6, 292.7, 287.9, 293.6)},
        # "WAF": {"long_name": "West Africa", "polygon": False, "maskland": False, "maskocean": True,
        #         "latitude": (-11.4, 15.), "longitude": (340., 385.)},
        # "WSA": {"long_name": "West Coast South America", "polygon": True, "maskland": False, "maskocean": True,
        #         "latitude": (-1.2, -20., -50., -56.7, -56.7, 0.5),
        #         "longitude": (280.3, 293.6, 287.9, 292.7, 278., 278.)},
    }
    if region is True:
        return dict_reference_regions
    else:
        return dict_reference_regions[region]


def CmipVariables():
    dict_cmip_variables = {
        "reference": "http://cfconventions.org/Data/cf-standard-names/46/build/cf-standard-name-table.html",
        "variable_name_in_file": {
            # line keys:
            # "<internal_metrics_variable_name>":{"var_name":"<var_name_in_file>","cf_name":<as per ref above>,
            #                                     "cf_unit":"<unit_in_file>"}
            # areacell
            "areacell": {"var_name": "areacella", "cf_name": "cell_area", "cf_units": "m2"},
            # landmask
            "landmask": {"var_name": "sftlf", "cf_name": "cell_area", "cf_units": "1"},
            # latent heat flux
            "lhf": {"var_name": "hfls", "cf_name": "land_area_fraction", "cf_units": "W m-2"},
            # longwave radiation computed from these variables IN THAT ORDER
            # lwr = rlds - rlus
            # sometimes lwr is included in the datasets in a variable called "rls"
            "lwr": {
                "var_name": ["rlds", "rlus"],
                "cf_name": ["surface_downwelling_longwave_flux_in_air", "surface_upwelling_longwave_flux_in_air"],
                "cf_units": "W m-2", "algebric_calculation": ["plus", "minus"]},
            # Rainfall Flux
            "pr": {"var_name": "pr", "cf_name": "rainfall_flux", "cf_units": "kg m-2 s-1"},
            # Sea Level Pressure
            "slp": {"var_name": "psl", "cf_name": "air_pressure_at_mean_sea_level", "cf_units": "Pa"},
            # sensible heat flux (on ocean grid or ocean points only)
            "shf": {"var_name": "hfss", "cf_name": "surface_upward_sensible_heat_flux", "cf_units": "W m-2"},
            # sea surface height
            "ssh": {"var_name": "zos", "cf_name": "sea_surface_height_above_geoid", "cf_units": "m"},
            # sea surface temperature
            "sst": {"var_name": "ts", "cf_name": "surface_temperature", "cf_units": "K"},
            # shortwave radiation computed from these variables IN THAT ORDER
            # swr = rsds - rsus
            # sometimes swr is included in the datasets in a variable called "rss"
            "swr": {
                "var_name": ["rsds", "rsus"],
                "cf_name": ["surface_downwelling_shortwave_flux_in_air", "surface_upwelling_shortwave_flux_in_air"],
                "cf_units": "W m-2", "algebric_calculation": ["plus", "minus"]
            },
            # zonal surface wind stress
            "taux": {"var_name": "tauu", "cf_name": "surface_downward_eastward_stress", "cf_units": "Pa"},
            # meridional surface wind stress
            "tauy": {"var_name": "tauv", "cf_name": "surface_downward_northward_stress", "cf_units": "Pa"},
            # total heat flux computed from these variables IN THAT ORDER
            # tfh = hfls + hfss + rlds - rlus + rsds - rsus
            # sometimes rls = rlds - rlus and rss = rsds - rsus
            # sometimes thf is included in the datasets in a variable called "hfds", "netflux", "thflx",...
            "thf": {
                "var_name": ["hfls", "hfss", "rlds", "rlus", "rsds", "rsus"],
                "cf_name": ["surface_upward_latent_heat_flux", "surface_upward_sensible_heat_flux",
                            "surface_downwelling_longwave_flux_in_air", "surface_upwelling_longwave_flux_in_air",
                            "surface_downwelling_shortwave_flux_in_air", "surface_upwelling_shortwave_flux_in_air"],
                "cf_units": "W m-2", "algebric_calculation": ["plus", "plus", "plus", "minus", "plus", "minus"]
            },
            # surface temperature
            "ts": {"var_name": "ts", "cf_name": "surface_temperature", "cf_units": "K"},
        },
    }
    return dict_cmip_variables
